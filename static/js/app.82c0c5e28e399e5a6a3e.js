webpackJsonp([1],{"+Mo5":function(t,e,i){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},n=i("VU/8")({name:"braid-pic-style",props:["activeElement"]},a,!1,null,null,null);e.a=n.exports},"+nYe":function(t,e,i){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("img",{attrs:{width:"100%","data-type":"braid-bg","data-index":this.i,src:this.val.url}})},staticRenderFns:[]},n=i("VU/8")({name:"braid-bg",icon:"file-text",title:"背景图",isUpload:!0,setting:{type:"braid-bg",href:"",belong:"page"},props:["i","val"]},a,!1,null,null,null);e.a=n.exports},"1tBX":function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lz-image",class:[{"g-active":"braid-pic"+t.i===t.id},t.playState?"anm-"+t.val.animationName:""],style:{position:"page"===t.val.belong?"absolute":"relative",width:t.val.width/t.w*100+"%",height:t.val.height/t.h*100+"%",left:"page"===t.val.belong?t.val.left/t.w*100+"%":"0",top:"page"===t.val.belong?t.val.top/t.h*100+"%":"0",zIndex:t.val.z}},[t.val.hoverPic?i("img",{attrs:{src:t.val.hoverPic}}):t._e(),t._v(" "),i("img",{attrs:{"data-type":"braid-pic","data-index":t.i,"data-hover":!!t.val.hoverPic,src:t.val.url}})])},staticRenderFns:[]},n=i("VU/8")({name:"braid-pic",icon:"image",title:"图片",isUpload:!0,setting:{type:"braid-pic",hasGuide:!0,isChild:!0,left:0,z:0,href:"",hoverPic:"",hoverSrc:"",expirePic:"",expireSrc:"",belong:"page",animationName:""},props:["val","w","h","id","i","playState"]},a,!1,function(t){i("7H8T")},"data-v-2c04e480",null);e.a=n.exports},"7H8T":function(t,e){},"7NW5":function(t,e){},ATOq:function(t,e){},BoTu:function(t,e){},GT1l:function(t,e){},IZjw:function(t,e){},KoX6:function(t,e){},LCZi:function(t,e){},Pa1R:function(t,e,i){"use strict";function a(t,e,i){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=[t];["duration","timing","delay","iteration","direction","fill"].map(function(t){void 0!==e[t]&&("duration"===t||"delay"===t?n.push(e[t]+"s"):"iteration"===t?n.push(0===e[t]?"infinite":e[t]):n.push(e[t]))});var s="animation: "+n.join(" ")+";",o=[];a?i.map(function(t){o.push("\t"+t.stop+"% {\n"),o.push("\t\t"+t.css+"\n\t}\n")}):i.map(function(t){o.push(t.stop+"% {"),o.push(t.css+"}")});var l=o.join("");return"\n.anm-"+t+" {\n  -webkit-"+s+"\n  "+s+"\n}\n@keyframes "+t+" {\n"+l+"}\n@-webkit-keyframes "+t+" {\n"+l+"}\n"}function n(t,e){return"function"==typeof e?e:t[e]}function s(t){return Array.isArray(t)?t.map(function(t){return{k:t,v:t}}):p()(t).map(function(e){return{k:e,v:t[e]}})}Object.defineProperty(e,"__esModule",{value:!0});var o,l,r=i("7+uW"),c=i("j4EN"),v={mounted:function(){var t=this;document.addEventListener("keyup",function(e){e.stopPropagation(),e.ctrlKey&&67===e.keyCode&&t.$store.commit("copy")},!0),document.addEventListener("keyup",function(e){e.stopPropagation(),46===e.keyCode&&t.$store.commit("delete")},!0)},methods:{preview:function(){},save:function(){},copyWidget:function(){this.$store.commit("copy")},dele:function(){this.$store.commit("delete")}},computed:{show:function(){return"page"!==this.$store.state.type}}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"navbar"},[e("section",{staticClass:"logo navbar-section"},[e("icon",{attrs:{name:"anchor"}})],1),this._v(" "),e("section",{staticClass:"navbar-section"},[e("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{"data-tooltip":"复制元件 Ctrl + C"},on:{click:this.copyWidget}},[e("icon",{attrs:{name:"copy"}}),this._v(" 复制\n    ")],1),this._v(" "),e("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{"data-tooltip":"删除元件 Ctrl + D"},on:{click:this.dele}},[e("icon",{attrs:{name:"trash-2"}}),this._v(" 删除\n    ")],1),this._v(" "),e("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{href:"#","data-tooltip":"预览 Ctrl + P"},on:{click:this.preview}},[e("icon",{attrs:{name:"airplay"}}),this._v(" 预览")],1),this._v(" "),e("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{href:"#","data-tooltip":"预览 Ctrl + S"},on:{click:this.save}},[e("icon",{attrs:{name:"save"}}),this._v(" 保存")],1)])])},staticRenderFns:[]},d=i("VU/8")(v,u,!1,function(t){i("ti1B")},null,null).exports,m=i("fZjL"),p=i.n(m),h=i("woOf"),f=i.n(h),g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lz-container",class:[{"g-active":"braid-container"+t.i===t.id},t.playState?"anm-"+t.val.animationName:""],style:{display:t.val.display,position:"absolute",width:t.val.width/7.5+"%",height:t.val.height/t.h*100+"%",left:t.val.left/7.5+"%",top:t.val.top/t.h*100+"%",zIndex:t.val.z,backgroundColor:t.val.bgColor,backgroundImage:"url("+t.val.backPic+")",borderStyle:"solid",borderRadius:t.val.radius+"px",borderColor:t.val.borderColor,borderWidth:t.val.borderWidth+"px",flexDirection:t.val.dir,justifyContent:t.val.justify,alignItems:t.val.align},attrs:{"data-type":"braid-container","data-index":t.i}},t._l(t.childs,function(e,a){return i(e.type,{key:a,tag:"component",attrs:{i:a,id:t.id,val:e,h:e.height,w:e.width,playState:t.playState}})}))},staticRenderFns:[]},_={name:"braid-container-style",props:["activeElement"],methods:{addPic:function(){var t=this;window.$communicator.$emit("upload",function(e){t.$store.commit("addContainerBackPic",e)})}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return"braid-container"===t.activeElement.type?i("div",[i("hr"),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"credit-card"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("容器名称")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.activeElement.name,expression:"activeElement.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"容器名称必填"},domProps:{value:t.activeElement.name},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"grid"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("display")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.display,expression:"activeElement.display"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"display",e.target.multiple?i:i[0])}}},[i("option",[t._v("flex")]),t._v(" "),i("option",[t._v("block")])])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[i("icon",{attrs:{name:"shuffle"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("主轴方向")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.dir,expression:"activeElement.dir"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"dir",e.target.multiple?i:i[0])}}},[i("option",[t._v("row")]),t._v(" "),i("option",[t._v("row-reverse")]),t._v(" "),i("option",[t._v("column")]),t._v(" "),i("option",[t._v("column-reverse")])])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[i("icon",{attrs:{name:"align-justify"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("主轴分布")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.justify,expression:"activeElement.justify"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"justify",e.target.multiple?i:i[0])}}},[i("option",[t._v("flex-start")]),t._v(" "),i("option",[t._v("space-between")]),t._v(" "),i("option",[t._v("center")]),t._v(" "),i("option",[t._v("space-around")]),t._v(" "),i("option",[t._v("flex-end")])])])],1),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[i("icon",{attrs:{name:"align-center"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("侧轴分布")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.align,expression:"activeElement.align"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"align",e.target.multiple?i:i[0])}}},[i("option",[t._v("flex-start")]),t._v(" "),i("option",[t._v("center")]),t._v(" "),i("option",[t._v("flex-end")])])])],1),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"target"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("背景色")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.bgColor))]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.bgColor,expression:"activeElement.bgColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.bgColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"bgColor",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"image"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("背景图")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("div",{staticClass:"panel-preview",style:{backgroundImage:"url("+t.activeElement.backPic+")"},on:{click:t.addPic}},[i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.activeElement.backPic,expression:"!activeElement.backPic"}],attrs:{name:"plus"}})],1)])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"square"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("圆角")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.radius,expression:"activeElement.radius"}],attrs:{type:"text"},domProps:{value:t.activeElement.radius},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"radius",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"maximize"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("边的宽度")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.borderWidth,expression:"activeElement.borderWidth"}],attrs:{type:"text"},domProps:{value:t.activeElement.borderWidth},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"borderWidth",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"edit-3"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("边的颜色")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.borderColor))]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.borderColor,expression:"activeElement.borderColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.borderColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"borderColor",e.target.value)}}})])],1)]):t._e()},staticRenderFns:[]},w={braidContainer:i("VU/8")({name:"braid-container",icon:"layout",title:"容器",setting:{type:"braid-container",hasGuide:!0,name:"",width:650,height:300,left:50,top:0,z:0,display:"flex",bgColor:"",backPic:"",backPicUrl:"",radius:0,borderColor:"",borderWidth:0,dir:"row",justify:"flex-start",align:"flex-start",belong:"page",animationName:""},props:["h","val","i","id","playState"],computed:{childs:function(){var t=this;return this.$store.state.widgets.filter(function(e){return e.belong===t.val.name})}}},g,!1,function(t){i("zta8")},"data-v-63032e9a",null).exports},y={braidContainerStyle:i("VU/8")(_,b,!1,null,null,null).exports},C={install:function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.installed||(o=f()({},w,i.widgets),l=f()({},y,i.widgetStyle),p()(o).forEach(function(t){e.component(t,o[t])}),p()(l).forEach(function(t){e.component(t,l[t])}))},getWidgets:function(){return o},getWidgetStyle:function(){return l}},E={methods:{initmovement:function(t){var e=this.$store.state.activeElement;this.$store.commit("initmove",{startX:t.pageX,startY:t.pageY,originX:e.left,originY:e.top}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove:function(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("move",{x:t.pageX,y:t.pageY})},handlemouseup:function(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.$store.commit("stopmove")}}},x={mixins:[E],props:["zoom"],data:function(){return{}},computed:{widgets:function(){return C.getWidgets()},layers:function(){return this.$store.state.widgets},activeElement:function(){return this.$store.state.activeElement}},methods:{addWidget:function(t,e){this.$store.dispatch("addWidget",e)},updateSrollTop:function(){var t=document.getElementById("viewport").scrollTop/this.zoom*100;this.$store.commit("updateSrollTop",t)},activeLayer:function(t,e,i){this.$store.commit("select",{type:i.type,index:e})}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"menu-bar"},[i("details",{attrs:{open:""}},[i("summary",[i("icon",{attrs:{name:"list"}}),t._v("可用组件")],1),t._v(" "),i("ul",{staticClass:"widget-list",on:{mousedown:t.updateSrollTop}},t._l(t.widgets,function(e){return i("li",{key:e.name,staticClass:"menu-item",on:{click:function(i){t.addWidget(i,e)}}},[i("icon",{attrs:{name:e.icon,title:e.title}}),t._v(" "),i("span",{staticClass:"menu-caption"},[t._v(t._s(e.title))])],1)}))]),t._v(" "),i("details",[i("summary",[i("icon",{attrs:{name:"layers"}}),t._v("已加组件")],1),t._v(" "),i("ul",{staticClass:"layer-list"},t._l(t.layers,function(e,a){return i("li",{key:a,class:{"layer-active":e===t.activeElement},on:{click:function(i){t.activeLayer(i,a,e)}}},[t._v(t._s(e.type))])}))])])},staticRenderFns:[]},k=i("VU/8")(x,$,!1,function(t){i("BoTu")},null,null).exports,A={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.activeElement.page&&1===t.tab?i("div",{staticClass:"panel-wrap"},[i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"type"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("页面标题")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.title,expression:"activeElement.title"}],attrs:{type:"text"},domProps:{value:t.activeElement.title},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"title",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"smartphone"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("页面高度")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.height,expression:"activeElement.height"}],attrs:{type:"text"},domProps:{value:t.activeElement.height},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"height",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"droplet"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("页面背景色")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.backgroundColor,expression:"activeElement.backgroundColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.backgroundColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"backgroundColor",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"clock"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("截止日期")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.endTime,expression:"activeElement.endTime"}],attrs:{type:"date"},domProps:{value:t.activeElement.endTime},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"endTime",e.target.value)}}})])],1)]):t._e()},staticRenderFns:[]},N={name:"panel-style",props:["activeElement","tab"],data:function(){return{}},computed:{widgetStyle:function(){return C.getWidgetStyle()},height:function(){return this.$store.state.page.height},containerName:function(){var t=[];return this.$store.state.widgets.map(function(e){return"braid-container"===e.type&&e.name&&t.push(e.name)}),t}}},P={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.activeElement.page||1!==t.tab?t._e():i("div",{staticClass:"panel-wrap"},[i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"layers"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("层级")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.z))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("slider",{attrs:{step:1,max:20},model:{value:t.activeElement.z,callback:function(e){t.$set(t.activeElement,"z",e)},expression:"activeElement.z"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"more-horizontal"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("宽度")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.width))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("slider",{attrs:{step:1,max:750},model:{value:t.activeElement.width,callback:function(e){t.$set(t.activeElement,"width",e)},expression:"activeElement.width"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"more-vertical"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("高度")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.height))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("slider",{attrs:{step:1,max:t.height},model:{value:t.activeElement.height,callback:function(e){t.$set(t.activeElement,"height",e)},expression:"activeElement.height"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"arrow-right"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("横坐标")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.left))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("slider",{attrs:{step:1,max:750},model:{value:t.activeElement.left,callback:function(e){t.$set(t.activeElement,"left",e)},expression:"activeElement.left"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"arrow-down"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("纵坐标")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.top))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("slider",{attrs:{step:1,max:t.height},model:{value:t.activeElement.top,callback:function(e){t.$set(t.activeElement,"top",e)},expression:"activeElement.top"}})],1)],1),t._v(" "),t._l(t.widgetStyle,function(e,a){return i(t.widgetStyle[a],{key:a,tag:"component",attrs:{activeElement:t.activeElement}})}),t._v(" "),"braid-pic"===t.activeElement.type||"braid-txt"===t.activeElement.type?i("div",[i("hr"),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"layout"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("所属容器")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.belong,expression:"activeElement.belong"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"belong",e.target.multiple?i:i[0])}}},[i("option",[t._v("page")]),t._v(" "),t._l(t.containerName,function(e,a){return i("option",{key:a},[t._v(t._s(e))])})],2)])],1)]):t._e()],2)},staticRenderFns:[]},S={props:["activeElement","tab"],methods:{addPic:function(t){var e=this;window.$communicator.$emit("upload",function(i){e.$store.commit(t,i)})}}},z={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return 2===t.tab?i("div",{staticClass:"panel-wrap"},[i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"link"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("点击时")])],1),t._v(" "),void 0!==t.activeElement.href?i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("div",{staticClass:"panel-label"},[t._v("链接至")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.href,expression:"activeElement.href"}],attrs:{type:"text",placeholder:"绝对路径，以https://开头"},domProps:{value:t.activeElement.href},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"href",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.activeElement.href?i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("div",{staticClass:"panel-label"},[t._v("跳转至")]),t._v(" "),t._m(0)]):t._e(),t._v(" "),void 0!==t.activeElement.hoverPic?i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("div",{staticClass:"panel-label"},[t._v("hover 图片")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("div",{staticClass:"panel-preview",style:{backgroundImage:"url("+t.activeElement.hoverPic+")"},on:{click:function(e){t.addPic("addHoverPic")}}},[i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.activeElement.hoverPic,expression:"!activeElement.hoverPic"}],attrs:{name:"plus"}})],1)])]):t._e(),t._v(" "),i("hr"),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"clock"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("活动结束时")])],1),t._v(" "),void 0!==t.activeElement.expirePic?i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("div",{staticClass:"panel-label"},[t._v("结束图片")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("div",{staticClass:"panel-preview",style:{backgroundImage:"url("+t.activeElement.expirePic+")"},on:{click:function(e){t.addPic("addExpirePic")}}},[i("icon",{directives:[{name:"show",rawName:"v-show",value:!t.activeElement.expirePic,expression:"!activeElement.expirePic"}],attrs:{name:"plus"}})],1)])]):t._e()]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-value"},[e("select",[e("option",[this._v("无")]),this._v(" "),e("option",[this._v("TODO: href")])])])}]},M={name:"panel-animation",props:["activeElement","tab"],data:function(){return{currentName:"",currentAnimation:null}},computed:{animationNames:function(){var t=[];return this.$store.state.animation.map(function(e){return t.push(e.name)}),t}},methods:{addAnimation:function(){this.$store.state.animation.some(function(t){return""===t.name})?window.$communicator.$emit("notify",{info:"还有未命名动画，请先命名",type:!1}):(this.$store.commit("addAnimation"),this.currentName="",this.getCurrentAnimation(""))},getCurrentAnimation:function(t){var e=this.$store.state.animation.filter(function(e){return e.name===t});this.currentAnimation=e[0]},addkeyframe:function(){var t=this.currentAnimation.name;""!==t?this.$store.commit("addkeyframe",t):window.$communicator.$emit("notify",{info:"请先为动画命名"})},validateName:function(t){var e=this,i=t.target.value;""!==i&&(/^[a-zA-Z]/.test(i)||(this.$nextTick(function(){e.currentAnimation.name=""}),window.$communicator.$emit("notify",{info:"动画名称必须以英文开头",type:!1})),/\W/g.test(i)&&(this.$nextTick(function(){e.currentAnimation.name=i.replace(/\W/g,"")}),window.$communicator.$emit("notify",{info:"请勿使用英文和数字以外的字符",type:!1})))},play:function(){var t=this;this.$store.commit("setAnimation",!1),setTimeout(function(){var e=t.$store.state.animation;0!==e.length&&(e.map(function(t){var e="anm-"+t.name,i=document.getElementById(e);if(i)i.innerHTML=a(t.name,t,t.keyframes,!1);else{var n=document.createElement("style");n.id=e,n.innerHTML=a(t.name,t,t.keyframes,!1),document.head.append(n)}}),t.$store.commit("setAnimation",!0))},200)}},watch:{currentName:function(t){void 0!==this.activeElement.animationName&&(this.activeElement.animationName=t),this.getCurrentAnimation(t)},activeElement:function(t){void 0!==t.animationName?this.currentName=t.animationName:this.currentName=""}}},U={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return 3===t.tab?i("div",{staticClass:"panel-wrap"},[i("button",{staticClass:"btn btn-action float-right mx-1"},[i("icon",{attrs:{name:"plus"},on:{click:t.addAnimation}})],1),t._v(" "),i("button",{staticClass:"btn btn-action float-right"},[i("icon",{attrs:{name:"play"},on:{click:t.play}})],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"film"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("选择动画")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentName,expression:"currentName"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentName=e.target.multiple?i:i[0]}}},[i("option",{attrs:{value:""}},[t._v("无")]),t._v(" "),t._l(t.animationNames,function(e,a){return i("option",{key:a,domProps:{value:e}},[t._v(t._s(e))])})],2)])],1),t._v(" "),t.currentAnimation?i("div",[i("hr"),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"type"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画名称")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.currentAnimation.name,expression:"currentAnimation.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"动画名称，仅限英文"},domProps:{value:t.currentAnimation.name},on:{input:[function(e){e.target.composing||t.$set(t.currentAnimation,"name",e.target.value.trim())},t.validateName],blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"clock"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画时长")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.duration,expression:"currentAnimation.duration",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入大于0的数字"},domProps:{value:t.currentAnimation.duration},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"duration",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"watch"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画延迟")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.delay,expression:"currentAnimation.delay",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入不小于0的数字"},domProps:{value:t.currentAnimation.delay},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"delay",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"repeat"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画循环")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.iteration,expression:"currentAnimation.iteration",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"输入0表示无限循环"},domProps:{value:t.currentAnimation.iteration},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"iteration",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"activity"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("缓动函数")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.timing,expression:"currentAnimation.timing"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"timing",e.target.multiple?i:i[0])}}},[i("option",[t._v("linear")]),t._v(" "),i("option",[t._v("ease")]),t._v(" "),i("option",[t._v("ease-in")]),t._v(" "),i("option",[t._v("ease-out")]),t._v(" "),i("option",[t._v("ease-in-out")])])])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"rotate-cw"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("动画方向")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.direction,expression:"currentAnimation.direction"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"direction",e.target.multiple?i:i[0])}}},[i("option",[t._v("normal")]),t._v(" "),i("option",[t._v("reverse")]),t._v(" "),i("option",[t._v("alternate")]),t._v(" "),i("option",[t._v("alternate-reverse")])])])],1),t._v(" "),i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"chevrons-down"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("fill-mode")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.fill,expression:"currentAnimation.fill"}],on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"fill",e.target.multiple?i:i[0])}}},[i("option",[t._v("none")]),t._v(" "),i("option",[t._v("forwards")]),t._v(" "),i("option",[t._v("backwards")]),t._v(" "),i("option",[t._v("both")])])])],1),t._v(" "),i("hr"),t._v(" "),t._l(t.currentAnimation.keyframes,function(e,a){return i("div",{key:a},[i("div",{staticClass:"panel-row"},[i("icon",{attrs:{name:"stop-circle"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("stop - "+t._s(a))]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(e.stop)+"%")]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("slider",{attrs:{step:1},model:{value:e.stop,callback:function(i){t.$set(e,"stop",i)},expression:"val.stop"}})],1)],1),t._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.css,expression:"val.css"}],attrs:{placeholder:"IMPORTANT: use rem, not px"},domProps:{value:e.css},on:{input:function(i){i.target.composing||t.$set(e,"css",i.target.value)}}}),t._v(" "),i("div",{staticStyle:{margin:"10px 0 0 20px"}},[a+1===t.currentAnimation.keyframes.length?i("button",{staticClass:"btn btn-primary",on:{click:t.addkeyframe}},[i("icon",{attrs:{name:"plus"}}),t._v(" 添加新的动画\n        ")],1):t._e()])])})],2):t._e()]):t._e()},staticRenderFns:[]},V={components:{page:i("VU/8")({props:["activeElement","tab"]},A,!1,null,null,null).exports,appearance:i("VU/8")(N,P,!1,null,null,null).exports,event:i("VU/8")(S,z,!1,null,null,null).exports,animation:i("VU/8")(M,U,!1,function(t){i("ATOq")},"data-v-963ca51a",null).exports},data:function(){return{activeTab:1}},computed:{activeElement:function(){return this.$store.state.activeElement}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"tab tab-block panel-tab"},[i("li",{staticClass:"tab-item",class:{active:1===t.activeTab},on:{click:function(e){t.activeTab=1}}},[i("a",[t._v("参数")])]),t._v(" "),i("li",{staticClass:"tab-item",class:{active:2===t.activeTab},on:{click:function(e){t.activeTab=2}}},[i("a",[t._v("交互")])]),t._v(" "),i("li",{staticClass:"tab-item",class:{active:3===t.activeTab},on:{click:function(e){t.activeTab=3}}},[i("a",[t._v("动画")])])]),t._v(" "),i("page",{attrs:{activeElement:t.activeElement,tab:t.activeTab}}),t._v(" "),i("appearance",{attrs:{activeElement:t.activeElement,tab:t.activeTab}}),t._v(" "),i("event",{attrs:{activeElement:t.activeElement,tab:t.activeTab}}),t._v(" "),i("animation",{attrs:{activeElement:t.activeElement,tab:t.activeTab}})],1)},staticRenderFns:[]},W=i("VU/8")(V,T,!1,function(t){i("ntMS")},null,null).exports,R={name:"ref-lines",methods:{attachHoriz:function(t){return this.horizontal.some(function(e){return Math.abs(e-t)<=1})},attachVerti:function(t){return this.vertical.some(function(e){return Math.abs(e-t)<=1})}},computed:{moving:function(){return this.$store.state.moving},guides:function(){var t=this.$store.state,e=[],i=t.index;return t.widgets.forEach(function(t,a){t.hasGuide&&a===i||t.hasGuide&&"page"!==t.belong||e.push({width:t.width,height:t.height,top:t.top,left:t.left})}),e},horiz:function(){var t=[];return this.guides.forEach(function(e){var i=e.top,a=i+e.height;t.indexOf(i)<0&&0!==i&&t.push(i),t.indexOf(a)<0&&t.push(a)}),t},verti:function(){var t=[375];return this.guides.forEach(function(e){var i=e.left,a=i+e.width;t.indexOf(i)<0&&0!==i&&t.push(i),t.indexOf(a)<0&&a<750&&t.push(a)}),t},horizontal:function(){var t=this.$store.state.activeElement;if(t){var e=Math.round(t.height);return[t.top,t.top+e]}return[]},vertical:function(){var t=this.$store.state.activeElement;if(t){var e=Math.round(t.width/2);return[t.left,t.left+e,t.left+2*e]}return[]}}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.moving,expression:"moving"}],staticClass:"guides"},[t._l(t.horiz,function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.attachHoriz(e),expression:"attachHoriz(val)"}],key:e,staticClass:"horiz",style:{top:e+"px"}})}),t._v(" "),t._l(t.verti,function(e){return i("div",{directives:[{name:"show",rawName:"v-show",value:t.attachVerti(e),expression:"attachVerti(val)"}],key:e,staticClass:"verti",style:{left:e+"px"}})})],2)},staticRenderFns:[]},F={computed:{elm:function(){var t=this.$store.state.activeElement,e=this.$store.state.type;return["braid-bg","braid-pic","page"].indexOf(e)>-1?"":"page"!==t.belong?"":t}},data:function(){return{type:""}},methods:{handlemousedown:function(t,e,i,a){t.stopPropagation(),this.type=e,this.$store.commit("initmove",{startX:t.pageX,startY:t.pageY,originX:this.elm[i],originY:this.elm[a]}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove:function(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("resize",{x:t.pageX,y:t.pageY,type:this.type})},handlemouseup:function(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.$store.commit("stopmove")}}},X={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.elm,expression:"elm"}]},[i("div",{staticClass:"verti",style:{height:t.elm.height+"px",top:t.elm.top+"px",left:t.elm.left+"px"},on:{mousedown:function(e){t.handlemousedown(e,"left","left","width")}}},[i("div",{staticClass:"square"})]),t._v(" "),i("div",{staticClass:"verti",style:{height:t.elm.height+"px",top:t.elm.top+"px",left:t.elm.left+t.elm.width+"px"},on:{mousedown:function(e){t.handlemousedown(e,"right","width")}}},[i("div",{staticClass:"square"})]),t._v(" "),i("div",{staticClass:"horiz",style:{width:t.elm.width+"px",top:t.elm.top+"px",left:t.elm.left+"px"},on:{mousedown:function(e){t.handlemousedown(e,"up","top","height")}}},[i("div",{staticClass:"square"})]),t._v(" "),i("div",{staticClass:"horiz",style:{width:t.elm.width+"px",top:t.elm.top+t.elm.height+"px",left:t.elm.left+"px"},on:{mousedown:function(e){t.handlemousedown(e,"down","height")}}},[i("div",{staticClass:"square"})])])},staticRenderFns:[]},I={name:"viewport",components:{ref:i("VU/8")(R,L,!1,function(t){i("GT1l")},"data-v-7090f527",null).exports,control:i("VU/8")(F,X,!1,function(t){i("tZQG")},"data-v-60585866",null).exports},mixins:[E],props:["zoom"],data:function(){return{}},mounted:function(){var t=this;document.getElementById("viewport").addEventListener("mousedown",this.handleSelection,!1),document.addEventListener("keydown",function(e){e.stopPropagation();var i=t.$store.state.activeElement;if(37!==e.keyCode||!i.left)return 38===e.keyCode&&i.top?(e.preventDefault(),void(i.top-=1)):void(39===e.keyCode&&i.left?i.left+=1:40===e.keyCode&&i.top&&(e.preventDefault(),i.top+=1));i.left-=1},!0)},methods:{handleSelection:function(t){var e=t.target,i=e.getAttribute("data-type");if(i){var a=e.getAttribute("data-index");this.$store.commit("select",{type:i,index:a?parseInt(a):-1}),"page"===(e=this.$store.state.activeElement).belong&&"braid-bg"!==i&&this.initmovement(t)}else this.$store.commit("select",{type:"page",index:-1})},replaceImage:function(t){var e=this;this.id.toLowerCase().indexOf("image")>-1&&window.$communicator.$emit("upload",function(t){e.$store.commit("replaceImage",t)})}},computed:{widgetStore:function(){return this.$store.state.widgets.filter(function(t){return"page"===t.belong})},height:function(){return this.$store.state.page.height},backgroundColor:function(){return this.$store.state.page.backgroundColor},id:function(){var t=this.$store.state.type,e=this.$store.state.index;return e=e>=0?e:"",t+e},playState:function(){return this.$store.state.playState}}},D={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"holder",attrs:{id:"viewport"}},[i("div",{staticClass:"screen",style:{backgroundColor:t.backgroundColor,height:t.height+"px",transform:"scale("+t.zoom/100+")"},on:{dblclick:t.replaceImage}},[t._l(t.widgetStore,function(e,a){return i(e.type,{key:a,tag:"component",staticClass:"layer",attrs:{i:a,id:t.id,val:e,h:t.height,w:750,playState:t.playState}})}),t._v(" "),i("ref"),t._v(" "),i("control")],2)])},staticRenderFns:[]},j={components:{navbar:d,toolbar:k,panel:W,viewport:i("VU/8")(I,D,!1,function(t){i("jVIN")},"data-v-29418162",null).exports},mounted:function(){this.$store.commit("initActive")},methods:{dozoom:function(t){this.$store.commit("zoom",t)}},computed:{zoom:function(){return this.$store.state.zoom}}},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app"},[e("navbar"),this._v(" "),e("div",{staticClass:"body container"},[e("div",{staticClass:"columns col-gapless"},[e("toolbar",{staticClass:"toolbar column",attrs:{zoom:this.zoom}}),this._v(" "),e("div",{staticClass:"viewport column"},[e("viewport",{attrs:{zoom:this.zoom}}),this._v(" "),e("div",{staticClass:"zoom-wrap"},[e("slider",{attrs:{value:this.zoom,step:1,tuning:!1},on:{input:this.dozoom}}),this._v(" "),e("div",{staticClass:"zoom-value"},[this._v(this._s(this.zoom)+"%")])],1)],1),this._v(" "),e("panel",{staticClass:"control-panel column"})],1)]),this._v(" "),e("uploader"),this._v(" "),e("toast")],1)},staticRenderFns:[]},H=i("VU/8")(j,Y,!1,function(t){i("bu9X")},null,null).exports,B=i("//Fk"),O=i.n(B),q=i("Zrlr"),G=i.n(q),Z=i("wxAW"),Q=i.n(Z),K=function(t){return function(e){var i={},a=s(e),n=function(e){var n=a[e];i[e]=function(){var e=t||this.$store;return"function"==typeof n?n.call(this,e.state):e.state[n]}};for(var o in a)n(o);return i}},J=function(t,e,i){return function(a){var n={},o=s(a),l=function(a){var s=o[a];n[a]=function(a){var n=i||this.$store,o=n[t],l=n[e],r="function"==typeof s?s.call(this,o):s;return l.call(n,r,a)}};for(var r in o)l(r);return n}},tt=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=i.state,n=i.mutations,s=void 0===n?{}:n,o=i.actions,l=void 0===o?{}:o,c=i.plugins,v=i.subscribers,u=void 0===v?[]:v;G()(this,t),this.vm=new r.a({data:{$$state:"function"==typeof a?a():a}}),this.mutations=s,this.actions=l,this.subscribers=u,c&&c.forEach(function(t){return e.use(t)}),this.mapState=K(this),this.mapActions=J("actions","dispatch",this),this.mapMutations=J("mutations","commit",this)}return Q()(t,null,[{key:"install",value:function(t){t.mixin({beforeCreate:function(){this.$store=this.$options.store||this.$parent&&this.$parent.$store}})}}]),Q()(t,[{key:"subscribe",value:function(t){var e=this;return this.subscribers.push(t),function(){return e.subscribers.splice(e.subscribers.indexOf(t),1)}}},{key:"commit",value:function(t,e){var i=this;this.subscribers.forEach(function(a){return a({type:t,payload:e},i.state)});var a=n(this.mutations,t);return a&&a(this.state,e)}},{key:"dispatch",value:function(t,e){var i=n(this.actions,t),a={state:this.state,dispatch:this.dispatch.bind(this),commit:this.commit.bind(this)};return O.a.resolve(i&&i(a,e))}},{key:"use",value:function(t){return t(this),this}},{key:"replaceState",value:function(t){return this.vm.$data.$$state=t,this}},{key:"state",get:function(){return this.vm.$data.$$state},set:function(t){0}}]),t}(),et=(K(),J("actions","dispatch"),J("mutations","commit"),{top:0,zoom:64,type:"page",index:-1,counter:0,originX:0,originY:0,startX:0,startY:0,moving:!1,animation:[],playState:!1,activeElement:{},page:{page:!0,title:"测试页面",height:1500,endTime:new Date,backgroundColor:"#fff"},widgets:[]}),it={addWidget:function(t,e){var i=t.state,a=t.commit;e.isUpload?window.$communicator.$emit("upload",function(t){a("addWidget",{data:t,item:e})},!0):(a("addWidget",{item:e}),a("select",{type:e.setting.type,index:i.widgets.length-1}))}},at=i("mvHQ"),nt=i.n(at),st=i("eXoM"),ot={select:function(t,e){t.type=e.type,t.index=e.index,-1===e.index?t.activeElement=t.page:t.activeElement=t.widgets[e.index]},initmove:function(t,e){t.startX=e.startX,t.startY=e.startY,t.originX=e.originX,t.originY=e.originY,t.moving=!0},stopmove:function(t){t.moving=!1},move:function(t,e){var i=t.activeElement,a=e.x-t.startX,n=e.y-t.startY,s=t.originX+Math.floor(100*a/t.zoom),o=t.originY+Math.floor(100*n/t.zoom);i.left=s>0?s:0,i.top=o>0?o:0},resize:function(t,e){var i,a=e.x-t.startX,n=e.y-t.startY;if("right"===e.type)return i=t.originX+Math.floor(100*a/t.zoom),void(t.activeElement.width=i>10?i:10);if("down"===e.type)return i=t.originX+Math.floor(100*n/t.zoom),void(t.activeElement.height=i>10?i:10);if("left"===e.type){var s=t.originX+Math.floor(100*a/t.zoom),o=t.originY-Math.floor(100*a/t.zoom);return t.activeElement.left=s>0?s:0,void(t.activeElement.width=o>10?o:10)}if("up"===e.type){var l=t.originX+Math.floor(100*n/t.zoom),r=t.originY-Math.floor(100*n/t.zoom);t.activeElement.top=l>0?l:0,t.activeElement.height=r>10?r:10}},copy:function(t,e){if("braid-pic"===t.type||"braid-txt"===t.type||"braid-container"===t.type){var i=f()({},t.activeElement);if("braid-container"===t.type){var a=t.activeElement.name;if(a){var n=a.split("-")[0]+"-"+t.counter;i.name=n;for(var s=0,o=t.widgets.length;s<o;s++)t.widgets[s].belong===a&&t.widgets.push(f()({},t.widgets[s],{belong:n}));t.counter+=1}else window.$communicator.$emit("notify",{info:"只有命名容器才能复制，请先命名",type:!1})}t.widgets.push(i)}},updateSrollTop:function(t,e){t.top=e},zoom:function(t,e){t.zoom=e},initActive:function(t){t.activeElement=t.page},delete:function(t){var e=t.type;if("page"!==e){if("braid-container"===e)for(var i=t.activeElement.name,a=0;a<t.widgets.length;a++)t.widgets[a].belong===i&&t.widgets.splice(a,1);t.widgets.splice(t.index,1),t.activeElement=t.page,t.type="page",t.index=-1}},addWidget:function(t,e){var i=e.data,a=void 0===i?null:i,n=e.item,s={top:t.top,uuid:st("1234567890abcdef",10)},o=JSON.parse(nt()(n.setting));"braid-container"===o.type&&(o.name=s.uuid),a?a.forEach(function(e){t.widgets.push(f()(o,e,s))}):t.widgets.push(f()(o,s))},addHoverPic:function(t,e){t.activeElement.hoverPic=e[0].url,t.activeElement.hoverSrc=e[0].src},addExpirePic:function(t,e){t.activeElement.expirePic=e[0].url,t.activeElement.expireSrc=e[0].src},replaceImage:function(t,e){t.activeElement.width=e[0].width,t.activeElement.url=e[0].url},addContainerBackPic:function(t,e){t.activeElement.backPic=e[0].url,t.activeElement.backPicUrl=e[0].src,t.activeElement.width=e[0].width,t.activeElement.height=e[0].height},addAnimation:function(t){t.animation.push({name:"",duration:3,delay:0,iteration:1,timing:"linear",direction:"normal",fill:"none",keyframes:[{stop:0,css:""}]})},addkeyframe:function(t,e){t.animation.map(function(t){t.name===e&&t.keyframes.push({stop:0,css:""})})},setAnimation:function(t,e){t.playState=e}};r.a.use(tt);var lt=new tt({state:et,actions:it,mutations:ot}),rt={props:{value:{type:[Number,String],default:0},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:Number,default:.1},tuning:{type:Boolean,default:!0}},data:function(){return{inputValue:this.value,active:!1,focused:!1,dragging:!1}},computed:{percent:function(){var t=(this.inputValue-this.min)/(this.max-this.min)*100;return t>100?100:t<0?0:t},fillStyle:function(){return{width:this.percent+"%"}},thumbStyle:function(){return{left:this.percent+"%"}},sliderClass:function(){return{zero:this.inputValue<=this.min,active:this.active}}},created:function(){this.handleDragMouseMove=this.handleDragMouseMove.bind(this),this.handleMouseEnd=this.handleMouseEnd.bind(this)},methods:{handleMouseDown:function(t){this.setValue(t),t.preventDefault(),document.addEventListener("mousemove",this.handleDragMouseMove),document.addEventListener("mouseup",this.handleMouseEnd),this.$el.focus(),this.onDragStart(t)},handleMouseUp:function(){this.active=!1},handleFocus:function(){this.focused=!0},handleBlur:function(){this.focused=!1},setValue:function(t){var e=this.$el,i=this.max,a=this.min,n=this.step,s=(t.clientX-e.firstElementChild.getBoundingClientRect().left)/e.firstElementChild.offsetWidth*(i-a);s=Math.round(s/n)*n+a,(s=parseFloat(s.toFixed(5)))>i?s=i:s<a&&(s=a),this.inputValue=s},onDragStart:function(t){this.dragging=!0,this.active=!0},onDragUpdate:function(t){var e=this;this.dragRunning||(this.dragRunning=!0,window.requestAnimationFrame(function(){e.dragRunning=!1,e.disabled||e.setValue(t)}))},onDragStop:function(t){this.dragging=!1,this.active=!1},handleDragMouseMove:function(t){this.onDragUpdate(t)},handleMouseEnd:function(t){document.removeEventListener("mousemove",this.handleDragMouseMove),document.removeEventListener("mouseup",this.handleMouseEnd),this.onDragStop(t)},increase:function(){this.inputValue>=this.max||(this.inputValue+=this.step)},decrease:function(){this.inputValue<=this.min||(this.inputValue-=this.step)}},watch:{value:function(t){this.inputValue=t},inputValue:function(t){this.$emit("input",t)}}},ct={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:{"mu-lisder-wrapper":t.tuning}},[i("div",{staticClass:"mu-slider",class:t.sliderClass,on:{focus:t.handleFocus,blur:t.handleBlur,mousedown:t.handleMouseDown,mouseup:t.handleMouseUp}},[i("input",{attrs:{type:"hidden"},domProps:{value:t.inputValue}}),t._v(" "),i("div",{staticClass:"mu-slider-track"}),t._v(" "),i("div",{staticClass:"mu-slider-fill",style:t.fillStyle}),t._v(" "),i("div",{staticClass:"mu-slider-thumb",style:t.thumbStyle})]),t._v(" "),t.tuning?i("div",{staticClass:"mu-increment",on:{mousedown:function(e){e.stopPropagation(),t.increase(e)}}},[t._v("+")]):t._e(),t._v(" "),t.tuning?i("div",{staticClass:"mu-decrement",on:{mousedown:function(e){e.stopPropagation(),t.decrease(e)}}},[t._v("-")]):t._e()])},staticRenderFns:[]},vt=i("VU/8")(rt,ct,!1,function(t){i("7NW5")},null,null).exports,ut={data:function(){return{info:"",type:!0,show:!1}},mounted:function(){var t=this;window.$communicator.$on("notify",function(e){t.notify(e.info,e.type)})},methods:{notify:function(t,e){var i=this;this.show||(this.info=t||"Success!",this.type=e||!0,this.show=!0,setTimeout(function(){i.show=!1},2e3))}}},dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"drop"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"toast"},[this._v(this._s(this.info))])])},staticRenderFns:[]},mt=i("VU/8")(ut,dt,!1,function(t){i("bCEC")},null,null).exports,pt={data:function(){return{multiple:!1,uploader:null,cb:null}},computed:{top:function(){return this.$store.state.top}},mounted:function(){var t=this;this.uploader=document.getElementById("uploader"),window.$communicator.$on("upload",function(e,i){t.multiple=!!i,t.cb=e,setTimeout(function(){t.uploader.click()},0)})},methods:{handleUpload:function(){var t=this,e=this.uploader.files;e&&0!==e.length&&(e=Array.prototype.slice.call(this.uploader.files),new O.a(function(i){t.handleLoadQueue(i,e)()}).then(function(e){t.cb(e)}))},handleLoadQueue:function(t,e){var i=this,a=0,n=e.length,s=[];return function o(){var l=window.URL.createObjectURL(e[a]);new O.a(function(t){i.getImageWidth(l,t)}).then(function(r){s.push({width:r.w,height:r.h,top:i.top,url:l,src:"images/"+e[a].name}),++a===n?t(s):o()})}},getImageWidth:function(t,e){var i=new Image;i.src=t,i.onload=function(){e({w:Math.round(i.width),h:Math.round(i.height)})}}}},ht={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png, image/jpeg, image/gif",multiple:!!this.multiple&&"multiple",id:"uploader"},on:{change:this.handleUpload}})},staticRenderFns:[]},ft=i("VU/8")(pt,ht,!1,null,null,null).exports,gt={render:function(){var t=this.$createElement,e=this._self._c||t;return this.show?e("div",{staticClass:"mask"},[e("div",{staticClass:"box"},[e("div",{staticClass:"top"},[e("span",[this._v(this._s(this.title))]),this._v(" "),e("icon",{staticClass:"close",attrs:{name:"x"},on:{click:this.close}})],1),this._v(" "),e("div",{staticClass:"body"},[this._t("default",[this._v(this._s(this.content))])],2),this._v(" "),e("div",{staticClass:"footer"},[e("button",{staticClass:"btn",on:{click:this.confirm}},[this._v("确定")]),this._v(" "),e("button",{staticClass:"btn",on:{click:this.close}},[this._v("取消")])])])]):this._e()},staticRenderFns:[]},_t=i("VU/8")({props:["title","id","content"],data:function(){return{show:!1}},methods:{close:function(){this.show=!1},confirm:function(){this.$emit("confirm",this.id)}}},gt,!1,function(t){i("IZjw")},"data-v-b975f210",null).exports,bt={computed:{classes:function(){return{"toggle-btn":!0,"toggle-btn-on":this.toggled,"toggle-btn-off":!this.toggled,"toggle-btn-disabled":this.disabled}},label:function(){return this.toggled&&this.showLabels?this.labelChecked:this.labelUnchecked}},data:function(){return{toggled:this.value}},methods:{toggle:function(t){if(this.disabled||9===t.keyCode)return!1;this.toggled=!this.toggled,this.$emit("input",this.toggled)}},props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:!1},showLabels:{type:Boolean,default:!1},labelChecked:{type:String,default:""},labelUnchecked:{type:String,default:""}}},wt={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"toggle",attrs:{role:"switcher",tabindex:"0","aria-checked":t.toggled},on:{keydown:t.toggle,click:function(e){e.stopPropagation(),t.toggle(e)}}},[i("input",{staticClass:"toggle-input",attrs:{type:"checkbox"}}),t._v(" "),i("button",{class:t.classes}),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.showLabels,expression:"showLabels"}],staticClass:"toggle-label",domProps:{innerHTML:t._s(t.label)}})])},staticRenderFns:[]},yt=i("VU/8")(bt,wt,!1,function(t){i("c6zI")},null,null).exports,Ct=i("/qmR"),Et=i.n(Ct),xt={name:"icon",props:{title:String,name:String,options:Object},computed:{icon:function(){return Et.a.icons[this.name].toSvg(this.options)}},methods:{handleClick:function(){this.$emit("click")}}},$t={render:function(){var t=this.$createElement;return(this._self._c||t)("i",{staticClass:"icon svg-icon",attrs:{title:this.title},domProps:{innerHTML:this._s(this.icon)},on:{click:this.handleClick}})},staticRenderFns:[]},kt=i("VU/8")(xt,$t,!1,function(t){i("LCZi")},null,null).exports;i("h5AK");r.a.component("slider",vt),r.a.component("toast",mt),r.a.component("uploader",ft),r.a.component("popbox",_t),r.a.component("switcher",yt),r.a.component("icon",kt),window.$communicator=new r.a;var At={data:function(){return{widgets:c.b,widgetStyle:c.a}},components:{vuePageDesigner:{name:"vue-page-designer",store:lt,props:{widgets:Object,widgetStyle:Object},components:{App:H},created:function(){r.a.use(C,{widgets:this.widgets,widgetStyle:this.widgetStyle})},render:function(t){return t("App")}}}},Nt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("vue-page-designer",{attrs:{widgets:this.widgets,widgetStyle:this.widgetStyle}})],1)},staticRenderFns:[]},Pt=i("VU/8")(At,Nt,!1,function(t){i("kvYQ")},null,null).exports;new r.a({el:"#app",render:t=>t(Pt)})},SGB3:function(t,e,i){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"txt",class:[{"g-active":this.isCurrent},this.playState?"anm-"+this.val.animationName:""],style:{position:"page"===this.val.belong?"absolute":"relative",left:"page"===this.val.belong?this.val.left/this.w*100+"%":"0",top:"page"===this.val.belong?this.val.top/this.h*100+"%":"0",width:this.val.width/this.w*100+"%",height:this.val.height/this.h*100+"%",zIndex:this.val.z,lineHeight:this.val.lineHeight,fontSize:this.val.fontSize+"rem",color:this.val.color,textAlign:this.val.textAlign,fontWeight:this.val.fontWeight?"bold":"normal"},attrs:{"data-type":"braid-txt","data-index":this.i},domProps:{innerHTML:this._s(this.val.text)}})},staticRenderFns:[]},n=i("VU/8")({name:"braid-txt",icon:"type",title:"文本",setting:{type:"braid-txt",hasGuide:!0,isChild:!0,width:650,height:100,left:50,top:0,z:0,lineHeight:1.6,fontSize:.85,fontWeight:!1,color:"#000000",textAlign:"left",text:"文本",href:"",belong:"page",animationName:""},props:["val","h","w","i","id","playState"],data:function(){return{}},methods:{},computed:{isCurrent:function(){return"braid-txt"+this.i===this.id}}},a,!1,function(t){i("KoX6")},"data-v-4d78f39d",null);e.a=n.exports},Vr75:function(t,e,i){"use strict";var a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return"braid-txt"===t.activeElement.type?i("div",[i("hr"),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"sliders"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("行高")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.lineHeight))]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("slider",{attrs:{max:5,min:1},model:{value:t.activeElement.lineHeight,callback:function(e){t.$set(t.activeElement,"lineHeight",e)},expression:"activeElement.lineHeight"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"type"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("字号")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.fontSize)+"rem")]),t._v(" "),i("div",{staticClass:"panel-slider-wrap"},[i("slider",{attrs:{step:.01,max:2,min:.85},model:{value:t.activeElement.fontSize,callback:function(e){t.$set(t.activeElement,"fontSize",e)},expression:"activeElement.fontSize"}})],1)],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"edit-3"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("颜色")]),t._v(" "),i("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.color))]),t._v(" "),i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.color,expression:"activeElement.color"}],attrs:{type:"color"},domProps:{value:t.activeElement.color},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"color",e.target.value)}}})])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"bold"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("加粗")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("label",{staticClass:"form-switch"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.fontWeight,expression:"activeElement.fontWeight"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.activeElement.fontWeight)?t._i(t.activeElement.fontWeight,null)>-1:t.activeElement.fontWeight},on:{change:function(e){var i=t.activeElement.fontWeight,a=e.target,n=!!a.checked;if(Array.isArray(i)){var s=t._i(i,null);a.checked?s<0&&(t.activeElement.fontWeight=i.concat([null])):s>-1&&(t.activeElement.fontWeight=i.slice(0,s).concat(i.slice(s+1)))}else t.$set(t.activeElement,"fontWeight",n)}}}),t._v(" "),i("i",{staticClass:"form-icon"})])])],1),t._v(" "),i("div",{staticClass:"panel-row",attrs:{flex:""}},[i("icon",{attrs:{name:"align-justify"}}),t._v(" "),i("div",{staticClass:"panel-label"},[t._v("对齐")]),t._v(" "),i("div",{staticClass:"panel-value"},[i("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"左对齐"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"left"},domProps:{checked:t._q(t.activeElement.textAlign,"left")},on:{change:function(e){t.$set(t.activeElement,"textAlign","left")}}}),t._v(" "),i("i",{staticClass:"form-icon"}),t._v(" "),i("icon",{attrs:{name:"align-left"}})],1),t._v(" "),i("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"居中"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"center"},domProps:{checked:t._q(t.activeElement.textAlign,"center")},on:{change:function(e){t.$set(t.activeElement,"textAlign","center")}}}),t._v(" "),i("i",{staticClass:"form-icon"}),t._v(" "),i("icon",{attrs:{name:"align-center"}})],1),t._v(" "),i("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"右对齐"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"right"},domProps:{checked:t._q(t.activeElement.textAlign,"right")},on:{change:function(e){t.$set(t.activeElement,"textAlign","right")}}}),t._v(" "),i("i",{staticClass:"form-icon"}),t._v(" "),i("icon",{attrs:{name:"align-center"}})],1)])],1)]):t._e()},staticRenderFns:[]},n=i("VU/8")({name:"braid-txt-style",props:["activeElement"],mounted:function(){},methods:{},data:function(){return{}}},a,!1,null,null,null);e.a=n.exports},bCEC:function(t,e){},bu9X:function(t,e){},c6zI:function(t,e){},h5AK:function(t,e){},jVIN:function(t,e){},kvYQ:function(t,e){},npnW:function(t,e,i){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},n=i("VU/8")({name:"braid-bg-style",props:["activeElement"]},a,!1,null,null,null);e.a=n.exports},ntMS:function(t,e){},tZQG:function(t,e){},ti1B:function(t,e){},zta8:function(t,e){}},["Pa1R"]);
//# sourceMappingURL=app.82c0c5e28e399e5a6a3e.js.map