webpackJsonp([1],{"0jJG":function(t,e){},"3nKj":function(t,e){},"3ofu":function(t,e){},Gtj6:function(t,e){},IZjw:function(t,e){},Jy8R:function(t,e){t.exports=function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=11)}([function(t,e){t.exports=function(t,e,n,i,a,s){var o,r=t=t||{},l=typeof t.default;"object"!==l&&"function"!==l||(o=t,r=t.default);var c="function"==typeof r?r.options:r;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0),n&&(c.functional=!0),a&&(c._scopeId=a);var u;if(s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):i&&(u=i),u){var v=c.functional,d=v?c.render:c.beforeCreate;v?(c._injectStyles=u,c.render=function(t,e){return u.call(e),d(t,e)}):c.beforeCreate=d?[].concat(d,u):[u]}return{esModule:o,exports:r,options:c}}},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var a=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(i),s=i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"});return[n].concat(s).concat([a]).join("\n")}return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},a=0;a<this.length;a++){var s=this[a][0];"number"==typeof s&&(i[s]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(t,e,n){function i(t){for(var e=0;e<t.length;e++){var n=t[e],i=c[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(s(n.parts[a]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var o=[];for(a=0;a<n.parts.length;a++)o.push(s(n.parts[a]));c[n.id]={id:n.id,refs:1,parts:o}}}}function a(){var t=document.createElement("style");return t.type="text/css",u.appendChild(t),t}function s(t){var e,n,i=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(i){if(p)return m;i.parentNode.removeChild(i)}if(h){var s=d++;i=v||(v=a()),e=o.bind(null,i,s,!1),n=o.bind(null,i,s,!0)}else i=a(),e=function(t,e){var n=e.css,i=e.media,a=e.sourceMap;if(i&&t.setAttribute("media",i),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}function o(t,e,n,i){var a=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=f(e,a);else{var s=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}var r="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!r)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=n(19),c={},u=r&&(document.head||document.getElementsByTagName("head")[0]),v=null,d=0,p=!1,m=function(){},h="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,n){p=n;var a=l(t,e);return i(a),function(e){for(var n=[],s=0;s<a.length;s++){var o=a[s];(r=c[o.id]).refs--,n.push(r)}for(e?i(a=l(t,e)):a=[],s=0;s<n.length;s++){var r;if(0===(r=n[s]).refs){for(var u=0;u<r.parts.length;u++)r.parts[u]();delete c[r.id]}}}};var f=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){"use strict";var i=n(13);e.a={name:"braid-bg",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-smartphone"><rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect><line x1="12" y1="18" x2="12" y2="18"></line></svg>',title:"背景图",panel:i.a,setting:{type:"braid-bg",isUpload:!0,href:"",belong:"page"},props:["val"]}},function(t,e,n){"use strict";e.a={name:"braid-bg-style",props:["activeElement"]}},function(t,e,n){"use strict";var i=n(20);e.a={name:"braid-pic",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-image"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>',title:"图片",panel:i.a,setting:{type:"braid-pic",isUpload:!0,hasGuide:!0,isChild:!0,left:0,z:0,href:"",belong:"page",animationName:""},props:["val","w","h","playState"]}},function(t,e,n){"use strict";e.a={name:"braid-pic-style",props:["activeElement"]}},function(t,e,n){"use strict";var i=n(26);e.a={name:"braid-txt",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-type"><polyline points="4 7 4 4 20 4 20 7"></polyline><line x1="9" y1="20" x2="15" y2="20"></line><line x1="12" y1="4" x2="12" y2="20"></line></svg>',title:"文本",panel:i.a,setting:{type:"braid-txt",hasGuide:!0,isChild:!0,width:650,height:100,left:50,top:0,z:0,lineHeight:1.6,fontSize:1.2,fontWeight:!1,color:"#000000",textAlign:"left",text:"文本",href:"",belong:"page",animationName:""},props:["val","h","w","playState"],methods:{updateText:function(t,e){var n=t.target.innerHTML;this.$store.commit("updateData",{uuid:e,key:"text",value:n})}}}},function(t,e,n){"use strict";e.a={name:"braid-txt-style",props:["activeElement"]}},function(t,e,n){"use strict";var i=n(32),a="braid-container";e.a={name:a,icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layout"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg>',title:"容器",panel:i.a,setting:{type:a,hasGuide:!0,name:"",width:650,height:300,left:50,top:0,z:0,display:"flex",bgColor:"",backPic:"",backPicUrl:"",radius:0,borderColor:"",borderWidth:0,dir:"row",justify:"flex-start",align:"flex-start",belong:"page",animationName:""},props:["h","val","playState"]}},function(t,e,n){"use strict";e.a={name:"braid-container-style",props:["activeElement"],methods:{addPic:function(){var t=this;this.$store.$emit("upload",function(e){t.$store.commit("addContainerBackPic",e)})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(12),a=n(16),s=n(23),o=n(29);e.default={[i.a.name]:i.a,[a.a.name]:a.a,[s.a.name]:s.a,[o.a.name]:o.a}},function(t,e,n){"use strict";var i=n(3),a=n(15),s=n(0)(i.a,a.a,!1,null,null,null);s.options.__file="src/bg/index.vue",e.a=s.exports},function(t,e,n){"use strict";var i=n(4),a=n(14),s=n(0)(i.a,a.a,!1,null,null,null);s.options.__file="src/bg/style.vue",e.a=s.exports},function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div")};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("img",{attrs:{width:"100%",src:this.val.url}})};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},function(t,e,n){"use strict";var i=n(5),a=n(22),s=n(0)(i.a,a.a,!1,function(t){n(17)},"data-v-04cf7604",null);s.options.__file="src/pic/index.vue",e.a=s.exports},function(t,e,n){var i=n(18);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n(2)("6f2e58e8",i,!1)},function(t,e,n){(t.exports=n(1)(void 0)).push([t.i,"\n.lz-image img[data-v-04cf7604] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  user-select: none;\n  -webkit-user-drag: none;\n  pointer-events: none;\n}\n",""])},function(t,e){t.exports=function(t,e){for(var n=[],i={},a=0;a<e.length;a++){var s=e[a],o=s[0],r={id:t+":"+a,css:s[1],media:s[2],sourceMap:s[3]};i[o]?i[o].parts.push(r):n.push(i[o]={id:o,parts:[r]})}return n}},function(t,e,n){"use strict";var i=n(6),a=n(21),s=n(0)(i.a,a.a,!1,null,null,null);s.options.__file="src/pic/style.vue",e.a=s.exports},function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div")};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"lz-image",class:[this.playState?"anm-"+this.val.animationName:""],style:{position:"page"===this.val.belong?"absolute":"relative",width:this.val.width/this.w*100+"%",height:this.val.height/this.h*100+"%",left:"page"===this.val.belong?this.val.left/this.w*100+"%":"0",top:"page"===this.val.belong?this.val.top/this.h*100+"%":"0",zIndex:this.val.z}},[e("img",{attrs:{src:this.val.url}})])};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},function(t,e,n){"use strict";var i=n(7),a=n(28),s=n(0)(i.a,a.a,!1,function(t){n(24)},"data-v-15741f6a",null);s.options.__file="src/txt/index.vue",e.a=s.exports},function(t,e,n){var i=n(25);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n(2)("288d041f",i,!1)},function(t,e,n){(t.exports=n(1)(void 0)).push([t.i,"\n.txt[data-v-15741f6a] {\n  outline: none;\n  font-size: 28px;\n}\n",""])},function(t,e,n){"use strict";var i=n(8),a=n(27),s=n(0)(i.a,a.a,!1,null,null,null);s.options.__file="src/txt/style.vue",e.a=s.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"braid-txt"===t.activeElement.type?n("div",[n("hr"),t._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"sliders"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("行高")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.lineHeight))]),t._v(" "),n("div",{staticClass:"panel-slider-wrap"},[n("slider",{attrs:{max:5,min:1},model:{value:t.activeElement.lineHeight,callback:function(e){t.$set(t.activeElement,"lineHeight",e)},expression:"activeElement.lineHeight"}})],1)],1),t._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"type"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("字号")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.fontSize)+"rem")]),t._v(" "),n("div",{staticClass:"panel-slider-wrap"},[n("slider",{attrs:{step:.01,max:2,min:.85},model:{value:t.activeElement.fontSize,callback:function(e){t.$set(t.activeElement,"fontSize",e)},expression:"activeElement.fontSize"}})],1)],1),t._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"edit-3"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("颜色")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.color))]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.color,expression:"activeElement.color"}],attrs:{type:"color"},domProps:{value:t.activeElement.color},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"color",e.target.value)}}})])],1),t._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"bold"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("加粗")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("label",{staticClass:"form-switch"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.fontWeight,expression:"activeElement.fontWeight"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.activeElement.fontWeight)?t._i(t.activeElement.fontWeight,null)>-1:t.activeElement.fontWeight},on:{change:function(e){var n=t.activeElement.fontWeight,i=e.target,a=!!i.checked;if(Array.isArray(n)){var s=t._i(n,null);i.checked?s<0&&(t.activeElement.fontWeight=n.concat([null])):s>-1&&(t.activeElement.fontWeight=n.slice(0,s).concat(n.slice(s+1)))}else t.$set(t.activeElement,"fontWeight",a)}}}),t._v(" "),n("i",{staticClass:"form-icon"})])])],1),t._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"align-justify"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("对齐")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"左对齐"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"left"},domProps:{checked:t._q(t.activeElement.textAlign,"left")},on:{change:function(e){t.$set(t.activeElement,"textAlign","left")}}}),t._v(" "),n("i",{staticClass:"form-icon"}),t._v(" "),n("icon",{attrs:{name:"align-left"}})],1),t._v(" "),n("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"居中"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"center"},domProps:{checked:t._q(t.activeElement.textAlign,"center")},on:{change:function(e){t.$set(t.activeElement,"textAlign","center")}}}),t._v(" "),n("i",{staticClass:"form-icon"}),t._v(" "),n("icon",{attrs:{name:"align-center"}})],1),t._v(" "),n("label",{staticClass:"form-radio tooltip",attrs:{"data-tooltip":"右对齐"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.textAlign,expression:"activeElement.textAlign"}],attrs:{type:"radio",name:"align",value:"right"},domProps:{checked:t._q(t.activeElement.textAlign,"right")},on:{change:function(e){t.$set(t.activeElement,"textAlign","right")}}}),t._v(" "),n("i",{staticClass:"form-icon"}),t._v(" "),n("icon",{attrs:{name:"align-center"}})],1)])],1)]):t._e()};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"txt",class:[t.playState?"anm-"+t.val.animationName:""],style:{position:"page"===t.val.belong?"absolute":"relative",left:"page"===t.val.belong?t.val.left/t.w*100+"%":"0",top:"page"===t.val.belong?t.val.top/t.h*100+"%":"0",width:t.val.width/t.w*100+"%",minHeight:t.val.height/t.h*100+"%",zIndex:t.val.z,lineHeight:t.val.lineHeight,fontSize:t.val.fontSize+"rem",color:t.val.color,textAlign:t.val.textAlign,fontWeight:t.val.fontWeight?"bold":"normal"},attrs:{contenteditable:"true"},domProps:{innerHTML:t._s(t.val.text)},on:{blur:function(e){return t.updateText(e,t.val.uuid)}}})};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},function(t,e,n){"use strict";var i=n(9),a=n(34),s=n(0)(i.a,a.a,!1,function(t){n(30)},"data-v-0590360a",null);s.options.__file="src/container/index.vue",e.a=s.exports},function(t,e,n){var i=n(31);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals),n(2)("7898cf0e",i,!1)},function(t,e,n){(t.exports=n(1)(void 0)).push([t.i,"\n.lz-container[data-v-0590360a] {\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: 100%;\n}\n",""])},function(t,e,n){"use strict";var i=n(10),a=n(33),s=n(0)(i.a,a.a,!1,null,null,null);s.options.__file="src/container/style.vue",e.a=s.exports},function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"braid-container"===t.activeElement.type?n("div",[n("hr"),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"credit-card"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("容器名称")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.activeElement.name,expression:"activeElement.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"容器名称必填"},domProps:{value:t.activeElement.name},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"name",e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"grid"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("display")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.display,expression:"activeElement.display"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"display",e.target.multiple?n:n[0])}}},[n("option",[t._v("flex")]),t._v(" "),n("option",[t._v("block")])])])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[n("icon",{attrs:{name:"shuffle"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("主轴方向")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.dir,expression:"activeElement.dir"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"dir",e.target.multiple?n:n[0])}}},[n("option",[t._v("row")]),t._v(" "),n("option",[t._v("row-reverse")]),t._v(" "),n("option",[t._v("column")]),t._v(" "),n("option",[t._v("column-reverse")])])])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[n("icon",{attrs:{name:"align-justify"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("主轴分布")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.justify,expression:"activeElement.justify"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"justify",e.target.multiple?n:n[0])}}},[n("option",[t._v("flex-start")]),t._v(" "),n("option",[t._v("space-between")]),t._v(" "),n("option",[t._v("center")]),t._v(" "),n("option",[t._v("space-around")]),t._v(" "),n("option",[t._v("flex-end")])])])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"flex"===t.activeElement.display,expression:"activeElement.display === 'flex'"}],staticClass:"panel-row"},[n("icon",{attrs:{name:"align-center"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("侧轴分布")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.align,expression:"activeElement.align"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"align",e.target.multiple?n:n[0])}}},[n("option",[t._v("flex-start")]),t._v(" "),n("option",[t._v("center")]),t._v(" "),n("option",[t._v("flex-end")])])])],1),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"target"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("背景色")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.bgColor))]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.bgColor,expression:"activeElement.bgColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.bgColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"bgColor",e.target.value)}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"image"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("背景图")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("div",{staticClass:"panel-preview",style:{backgroundImage:"url("+t.activeElement.backPic+")"},on:{click:t.addPic}},[n("icon",{directives:[{name:"show",rawName:"v-show",value:!t.activeElement.backPic,expression:"!activeElement.backPic"}],attrs:{name:"plus"}})],1)])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"square"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("圆角")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.radius,expression:"activeElement.radius"}],attrs:{type:"text"},domProps:{value:t.activeElement.radius},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"radius",e.target.value)}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"maximize"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("边的宽度")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.borderWidth,expression:"activeElement.borderWidth"}],attrs:{type:"text"},domProps:{value:t.activeElement.borderWidth},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"borderWidth",e.target.value)}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"edit-3"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("边的颜色")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.borderColor))]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.borderColor,expression:"activeElement.borderColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.borderColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"borderColor",e.target.value)}}})])],1)]):t._e()};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},function(t,e,n){"use strict";var i=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"lz-container",class:[this.playState?"anm-"+this.val.animationName:""],style:{display:this.val.display,position:"absolute",width:this.val.width/7.5+"%",height:this.val.height/this.h*100+"%",left:this.val.left/7.5+"%",top:this.val.top/this.h*100+"%",zIndex:this.val.z,backgroundColor:this.val.bgColor,backgroundImage:"url("+this.val.backPic+")",borderStyle:"solid",borderRadius:this.val.radius+"px",borderColor:this.val.borderColor,borderWidth:this.val.borderWidth+"px",flexDirection:this.val.dir,justifyContent:this.val.justify,alignItems:this.val.align}},[this._t("default")],2)};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a}])},PVx9:function(t,e){},Pa1R:function(t,e,n){"use strict";function i(t,e){return"function"==typeof e?e:t[e]}function a(t){return Array.isArray(t)?t.map(function(t){return{k:t,v:t}}):w()(t).map(function(e){return{k:e,v:t[e]}})}function s(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[t];["duration","timing","delay","iteration","direction","fill"].map(function(t){void 0!==e[t]&&("duration"===t||"delay"===t?a.push(e[t]+"s"):"iteration"===t?a.push(0===e[t]?"infinite":e[t]):a.push(e[t]))});var s="animation: "+a.join(" ")+";",o=[];i?n.map(function(t){o.push("\t"+t.stop+"% {\n"),o.push("\t\t"+t.css+"\n\t}\n")}):n.map(function(t){o.push(t.stop+"% {"),o.push(t.css+"}")});var r=o.join("");return"\n.anm-"+t+" {\n  -webkit-"+s+"\n  "+s+"\n}\n@keyframes "+t+" {\n"+r+"}\n@-webkit-keyframes "+t+" {\n"+r+"}\n"}Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r=n("//Fk"),l=n.n(r),c=n("mvHQ"),u=n.n(c),v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return"braid-button"===t.activeElement.type?n("div",[n("hr"),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"target"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("背景色")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.bgColor))]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.bgColor,expression:"activeElement.bgColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.bgColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"bgColor",e.target.value)}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"image"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("背景图")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("div",{staticClass:"panel-preview",style:{backgroundImage:"url("+t.activeElement.backPic+")"},on:{click:t.addPic}},[n("icon",{directives:[{name:"show",rawName:"v-show",value:!t.activeElement.backPic,expression:"!activeElement.backPic"}],attrs:{name:"plus"}})],1)])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"edit-3"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("文字颜色")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.color))]),t._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.color,expression:"activeElement.color"}],attrs:{type:"color"},domProps:{value:t.activeElement.color},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"color",e.target.value)}}})])],1)]):t._e()},staticRenderFns:[]},d={name:"braid-button",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-square"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect></svg>',title:"按钮",panel:n("VU/8")({name:"braid-button-style",props:["activeElement"],methods:{addPic:function(){var t=this;this.$store.$emit("upload",function(e){t.$store.commit("addBackPic",e)})}}},v,!1,null,null,null).exports,setting:{type:"braid-button",isChild:!0,hasGuide:!0,name:"",width:250,height:60,left:50,top:0,z:0,bgColor:"#000000",backPic:"",backPicUrl:"",color:"#ffffff",text:"按钮",belong:"page",animationName:""},props:["h","val","playState"],methods:{updateText:function(t,e){var n=t.target.innerHTML;this.$store.commit("updateData",{uuid:e,key:"text",value:n})}}},p={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{class:[t.playState?"anm-"+t.val.animationName:""],style:{position:"absolute",width:t.val.width/7.5+"%",height:t.val.height/t.h*100+"%",left:t.val.left/7.5+"%",top:t.val.top/t.h*100+"%",zIndex:t.val.z,backgroundColor:t.val.bgColor,backgroundImage:"url("+t.val.backPic+")",color:t.val.color},attrs:{contenteditable:"true"},domProps:{innerHTML:t._s(t.val.text)},on:{blur:function(e){return t.updateText(e,t.val.uuid)}}})},staticRenderFns:[]},m=n("VU/8")(d,p,!1,function(t){n("3ofu")},"data-v-4ea4ea2c",null).exports,h={[m.name]:m},f=n("Zrlr"),g=n.n(f),_=n("wxAW"),b=n.n(_),y=n("fZjL"),w=n.n(y),C=function(t){return function(e){var n={},i=a(e),s=function(e){var a=i[e];n[e]=function(){var e=t||this.$store;return"function"==typeof a?a.call(this,e.state):e.state[a]}};for(var o in i)s(o);return n}},x=function(t,e,n){return function(i){var s={},o=a(i),r=function(i){var a=o[i];s[i]=function(i){var s=n||this.$store,o=s[t],r=s[e],l="function"==typeof a?a.call(this,o):a;return r.call(s,l,i)}};for(var l in o)r(l);return s}},E=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.state,a=n.mutations,s=void 0===a?{}:a,r=n.actions,l=void 0===r?{}:r,c=n.plugins,u=n.subscribers,v=void 0===u?[]:u;g()(this,t),this.vm=new o.a({data:{$$state:"function"==typeof i?i():i}}),this.mutations=s,this.actions=l,this.subscribers=v,c&&c.forEach(function(t){return e.use(t)}),this.mapState=C(this),this.mapActions=x("actions","dispatch",this),this.mapMutations=x("mutations","commit",this)}return b()(t,null,[{key:"install",value:function(t){t.mixin({beforeCreate:function(){this.$store=this.$options.store||this.$parent&&this.$parent.$store}})}}]),b()(t,[{key:"$emit",value:function(t){for(var e,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return(e=this.vm).$emit.apply(e,[t].concat(i))}},{key:"$on",value:function(t,e){return this.vm.$on(t,e)}},{key:"subscribe",value:function(t){var e=this;return this.subscribers.push(t),function(){return e.subscribers.splice(e.subscribers.indexOf(t),1)}}},{key:"commit",value:function(t,e){var n=this;this.subscribers.forEach(function(i){return i({type:t,payload:e},n.state)});var a=i(this.mutations,t);return a&&a(this.state,e)}},{key:"dispatch",value:function(t,e){var n=i(this.actions,t),a={state:this.state,dispatch:this.dispatch.bind(this),commit:this.commit.bind(this),store:this};return l.a.resolve(n&&n(a,e))}},{key:"use",value:function(t){return t(this),this}},{key:"replaceState",value:function(t){return this.vm.$data.$$state=t,this}},{key:"state",get:function(){return this.vm.$data.$$state},set:function(t){0}}]),t}(),$=(C(),x("actions","dispatch"),x("mutations","commit"),{top:0,zoom:64,type:"page",index:-1,uuid:null,counter:0,originX:0,originY:0,startX:0,startY:0,moving:!1,animation:[],playState:!1,activeElement:{},page:{page:!0,title:"测试页面",height:1500,endTime:new Date,backgroundColor:"#fff"},widgets:[]}),k=n("woOf"),S=n.n(k),A=n("eXoM"),N={select:function(t,e){if(t.uuid=e.uuid,-1===e.uuid)t.activeElement=t.page,t.type="page";else{var n=t.widgets.find(function(t){return t.uuid===e.uuid});t.activeElement=n,t.type=n.type}},initmove:function(t,e){t.startX=e.startX,t.startY=e.startY,t.originX=e.originX,t.originY=e.originY,t.moving=!0},stopmove:function(t){t.moving=!1},move:function(t,e){var n=t.activeElement,i=e.x-t.startX,a=e.y-t.startY,s=t.originX+Math.floor(100*i/t.zoom),o=t.originY+Math.floor(100*a/t.zoom);n.left=s>0?s:0,n.top=o>0?o:0},resize:function(t,e){var n,i=e.x-t.startX,a=e.y-t.startY;if("right"===e.type)return n=t.originX+Math.floor(100*i/t.zoom),void(t.activeElement.width=n>10?n:10);if("down"===e.type)return n=t.originX+Math.floor(100*a/t.zoom),void(t.activeElement.height=n>10?n:10);if("left"===e.type){var s=t.originX+Math.floor(100*i/t.zoom),o=t.originY-Math.floor(100*i/t.zoom);return t.activeElement.left=s>0?s:0,void(t.activeElement.width=o>10?o:10)}if("up"===e.type){var r=t.originX+Math.floor(100*a/t.zoom),l=t.originY-Math.floor(100*a/t.zoom);t.activeElement.top=r>0?r:0,t.activeElement.height=l>10?l:10}},copy:function(t,e){if("braid-pic"===t.type||"braid-txt"===t.type||"braid-container"===t.type){var n=S()({},t.activeElement);if("braid-container"===t.type){var i=t.activeElement.name;if(i){var a=i.split("-")[0]+"-"+t.counter;n.name=a;for(var s=0,o=t.widgets.length;s<o;s++)t.widgets[s].belong===i&&t.widgets.push(S()({},t.widgets[s],{belong:a}));t.counter+=1}}t.widgets.push(n)}},updateSrollTop:function(t,e){t.top=e},zoom:function(t,e){t.zoom=e},initActive:function(t){t.activeElement=t.page},delete:function(t){var e=t.type;if("page"!==e){if("braid-container"===e)for(var n=t.activeElement.name,i=0;i<t.widgets.length;i++)t.widgets[i].belong===n&&t.widgets.splice(i,1);t.widgets.splice(t.index,1),t.activeElement=t.page,t.uuid=-1}},addWidget:function(t,e){var n=e.data,i=void 0===n?null:n,a=e.item,s={top:t.top,uuid:A("1234567890abcdef",10)},o=JSON.parse(u()(a.setting));"braid-container"===o.type&&(o.name=s.uuid),i?i.forEach(function(e){t.widgets.push(S()(o,e,s))}):t.widgets.push(S()(o,s))},replaceImage:function(t,e){t.activeElement.width=e[0].width,t.activeElement.url=e[0].url},addContainerBackPic:function(t,e){t.activeElement.backPic=e[0].url,t.activeElement.backPicUrl=e[0].src,t.activeElement.width=e[0].width,t.activeElement.height=e[0].height},addBackPic:function(t,e){t.activeElement.backPic=e[0].url,t.activeElement.backPicUrl=e[0].src},addAnimation:function(t){t.animation.push({name:"",duration:3,delay:0,iteration:1,timing:"linear",direction:"normal",fill:"none",keyframes:[{stop:0,css:""}]})},addkeyframe:function(t,e){t.animation.map(function(t){t.name===e&&t.keyframes.push({stop:0,css:""})})},setAnimation:function(t,e){t.playState=e},updateData:function(t,e){var n=e.uuid,i=e.key,a=e.value;t.widgets.find(function(t){return t.uuid===n})[i]=a}};o.a.use(E);var z,P=new E({state:$,actions:{addWidget:function(t,e){var n=t.state,i=t.commit,a=t.store;e.setting.isUpload?a.$emit("upload",function(t){i("addWidget",{data:t,item:e})},!0):(i("addWidget",{item:e}),i("select",{uuid:n.widgets[n.widgets.length-1].uuid}))},save:function(t){var e=t.state;t.store.$emit("save",e)}},mutations:N}),M=n("Jy8R"),U=n.n(M),R={},T={install:function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.installed||(z=S()({},U.a,n.widgets),w()(z).forEach(function(t){e.component(t,z[t]);var n=S()({},z[t].panel);e.component(n.name,n),R[n.name]=n,delete z[t].panel}))},getWidgets:function(){return z},getWidgetStyle:function(){return R}},j={mounted:function(){var t=this;document.addEventListener("keyup",function(e){e.stopPropagation(),e.ctrlKey&&67===e.keyCode&&t.$store.commit("copy")},!0),document.addEventListener("keyup",function(e){e.stopPropagation(),46===e.keyCode&&t.$store.commit("delete")},!0)},methods:{preview:function(){},save:function(){this.$store.dispatch("save")},copyWidget:function(){this.$store.commit("copy")},dele:function(){this.$store.commit("delete")}},computed:{show:function(){return"page"!==this.$store.state.type}}},W={render:function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"navbar"},[e("section",{staticClass:"logo navbar-section"},[e("icon",{attrs:{name:"anchor"}})],1),this._v(" "),e("section",{staticClass:"navbar-section"},[e("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{"data-tooltip":"复制元件 Ctrl + C"},on:{click:this.copyWidget}},[e("icon",{attrs:{name:"copy"}}),this._v(" 复制\n    ")],1),this._v(" "),e("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{"data-tooltip":"删除元件 Ctrl + D"},on:{click:this.dele}},[e("icon",{attrs:{name:"trash-2"}}),this._v(" 删除\n    ")],1),this._v(" "),e("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{href:"#","data-tooltip":"预览 Ctrl + P"},on:{click:this.preview}},[e("icon",{attrs:{name:"airplay"}}),this._v(" 预览")],1),this._v(" "),e("a",{staticClass:"btn btn-link tooltip tooltip-bottom",attrs:{href:"#","data-tooltip":"预览 Ctrl + S"},on:{click:this.save}},[e("icon",{attrs:{name:"save"}}),this._v(" 保存")],1)])])},staticRenderFns:[]},F=n("VU/8")(j,W,!1,function(t){n("ZxMX")},null,null).exports,L={methods:{initmovement:function(t){var e=this.$store.state.activeElement;this.$store.commit("initmove",{startX:t.pageX,startY:t.pageY,originX:e.left,originY:e.top}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove:function(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("move",{x:t.pageX,y:t.pageY})},handlemouseup:function(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.$store.commit("stopmove")}}},V={mixins:[L],props:["zoom"],data:function(){return{}},computed:{widgets:function(){return T.getWidgets()},layers:function(){return this.$store.state.widgets},activeElement:function(){return this.$store.state.activeElement}},methods:{addWidget:function(t,e){this.$store.dispatch("addWidget",e)},updateSrollTop:function(){var t=document.getElementById("viewport").scrollTop/this.zoom*100;this.$store.commit("updateSrollTop",t)},activeLayer:function(t,e){this.$store.commit("select",{uuid:e.uuid});var n=document.querySelector("#viewport"),i=n.querySelector("[data-uuid='"+e.uuid+"']");i&&!function(t){var e=t.getBoundingClientRect();return e.top<window.innerHeight&&e.left<window.innerWidth&&e.right>0}(i)&&(n.scrollTop=(function(t){var e=0,n=0;do{e+=t.offsetTop||0,n+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:n}}(i).top-50)*this.zoom/100)}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu-bar"},[n("details",{attrs:{open:""}},[n("summary",[n("icon",{attrs:{name:"list"}}),t._v("可用组件")],1),t._v(" "),n("ul",{staticClass:"widget-list",on:{mousedown:t.updateSrollTop}},t._l(t.widgets,function(e){return n("li",{key:e.name,staticClass:"menu-item",on:{click:function(n){t.addWidget(n,e)}}},[n("icon",{attrs:{svg:e.icon,title:e.title}}),t._v(" "),n("span",{staticClass:"menu-caption"},[t._v(t._s(e.title))])],1)}))]),t._v(" "),n("details",[n("summary",[n("icon",{attrs:{name:"layers"}}),t._v("已加组件")],1),t._v(" "),n("ul",{staticClass:"layer-list"},t._l(t.layers,function(e){return n("li",{key:e.uuid,class:{"layer-active":e===t.activeElement},on:{click:function(n){t.activeLayer(n,e)}}},[t._v(t._s(e.type))])}))])])},staticRenderFns:[]},X=n("VU/8")(V,O,!1,function(t){n("0jJG")},null,null).exports,D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.activeElement.page&&1===t.tab?n("div",{staticClass:"panel-wrap"},[n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"type"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("页面标题")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.title,expression:"activeElement.title"}],attrs:{type:"text"},domProps:{value:t.activeElement.title},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"title",e.target.value)}}})])],1),t._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"smartphone"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("页面高度")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.height,expression:"activeElement.height"}],attrs:{type:"text"},domProps:{value:t.activeElement.height},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"height",e.target.value)}}})])],1),t._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"droplet"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("页面背景色")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.backgroundColor,expression:"activeElement.backgroundColor"}],attrs:{type:"color"},domProps:{value:t.activeElement.backgroundColor},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"backgroundColor",e.target.value)}}})])],1),t._v(" "),n("div",{staticClass:"panel-row",attrs:{flex:""}},[n("icon",{attrs:{name:"clock"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("截止日期")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.endTime,expression:"activeElement.endTime"}],attrs:{type:"date"},domProps:{value:t.activeElement.endTime},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"endTime",e.target.value)}}})])],1)]):t._e()},staticRenderFns:[]},I={name:"panel-style",props:["activeElement","tab"],data:function(){return{}},computed:{widgetStyle:function(){return T.getWidgetStyle()},height:function(){return this.$store.state.page.height},containerName:function(){var t=[];return this.$store.state.widgets.map(function(e){return"braid-container"===e.type&&e.name&&t.push(e.name)}),t}}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.activeElement.page||1!==t.tab?t._e():n("div",{staticClass:"panel-wrap"},[n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"layers"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("层级")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.z))]),t._v(" "),n("div",{staticClass:"panel-slider-wrap"},[n("slider",{attrs:{step:1,max:20},model:{value:t.activeElement.z,callback:function(e){t.$set(t.activeElement,"z",e)},expression:"activeElement.z"}})],1)],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"more-horizontal"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("宽度")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.width))]),t._v(" "),n("div",{staticClass:"panel-slider-wrap"},[n("slider",{attrs:{step:1,max:750},model:{value:t.activeElement.width,callback:function(e){t.$set(t.activeElement,"width",e)},expression:"activeElement.width"}})],1)],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"more-vertical"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("高度")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.height))]),t._v(" "),n("div",{staticClass:"panel-slider-wrap"},[n("slider",{attrs:{step:1,max:t.height},model:{value:t.activeElement.height,callback:function(e){t.$set(t.activeElement,"height",e)},expression:"activeElement.height"}})],1)],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"arrow-right"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("横坐标")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.left))]),t._v(" "),n("div",{staticClass:"panel-slider-wrap"},[n("slider",{attrs:{step:1,max:750},model:{value:t.activeElement.left,callback:function(e){t.$set(t.activeElement,"left",e)},expression:"activeElement.left"}})],1)],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"arrow-down"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("纵坐标")]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(t.activeElement.top))]),t._v(" "),n("div",{staticClass:"panel-slider-wrap"},[n("slider",{attrs:{step:1,max:t.height},model:{value:t.activeElement.top,callback:function(e){t.$set(t.activeElement,"top",e)},expression:"activeElement.top"}})],1)],1),t._v(" "),t._l(t.widgetStyle,function(e,i){return n(t.widgetStyle[i],{key:i,tag:"component",attrs:{activeElement:t.activeElement}})}),t._v(" "),"braid-pic"===t.activeElement.type||"braid-txt"===t.activeElement.type?n("div",[n("hr"),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"layout"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("所属容器")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.belong,expression:"activeElement.belong"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.activeElement,"belong",e.target.multiple?n:n[0])}}},[n("option",[t._v("page")]),t._v(" "),t._l(t.containerName,function(e,i){return n("option",{key:i},[t._v(t._s(e))])})],2)])],1)]):t._e()],2)},staticRenderFns:[]},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return 2===t.tab?n("div",{staticClass:"panel-wrap"},[n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"link"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("点击时")])],1),t._v(" "),void 0!==t.activeElement.href?n("div",{staticClass:"panel-row"},[n("div",{staticClass:"panel-label"},[t._v("链接至")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.activeElement.href,expression:"activeElement.href"}],attrs:{type:"text",placeholder:"绝对路径，以https://开头"},domProps:{value:t.activeElement.href},on:{input:function(e){e.target.composing||t.$set(t.activeElement,"href",e.target.value)}}})])]):t._e()]):t._e()},staticRenderFns:[]},Y={name:"panel-animation",props:["activeElement","tab"],data:function(){return{currentName:"",currentAnimation:null}},computed:{animationNames:function(){var t=[];return this.$store.state.animation.map(function(e){return t.push(e.name)}),t}},methods:{addAnimation:function(){this.$store.state.animation.some(function(t){return""===t.name})?this.$store.$emit("notify",{info:"还有未命名动画，请先命名"}):(this.$store.commit("addAnimation"),this.currentName="",this.getCurrentAnimation(""))},getCurrentAnimation:function(t){var e=this.$store.state.animation.filter(function(e){return e.name===t});this.currentAnimation=e[0]},addkeyframe:function(){var t=this.currentAnimation.name;""!==t?this.$store.commit("addkeyframe",t):this.$store.$emit("notify",{info:"请先为动画命名"})},validateName:function(t){var e=this,n=t.target.value;""!==n&&(/^[a-zA-Z]/.test(n)||(this.$nextTick(function(){e.currentAnimation.name=""}),this.$store.$emit("notify",{info:"动画名称必须以英文开头"})),/\W/g.test(n)&&(this.$nextTick(function(){e.currentAnimation.name=n.replace(/\W/g,"")}),this.$store.$emit("notify",{info:"请勿使用英文和数字以外的字符"})))},play:function(){var t=this;this.$store.commit("setAnimation",!1),setTimeout(function(){var e=t.$store.state.animation;0!==e.length&&(e.map(function(t){var e="anm-"+t.name,n=document.getElementById(e);if(n)n.innerHTML=s(t.name,t,t.keyframes,!1);else{var i=document.createElement("style");i.id=e,i.innerHTML=s(t.name,t,t.keyframes,!1),document.head.append(i)}}),t.$store.commit("setAnimation",!0))},200)}},watch:{currentName:function(t){void 0!==this.activeElement.animationName&&(this.activeElement.animationName=t),this.getCurrentAnimation(t)},activeElement:function(t){void 0!==t.animationName?this.currentName=t.animationName:this.currentName=""}}},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return 3===t.tab?n("div",{staticClass:"panel-wrap"},[n("button",{staticClass:"btn btn-action float-right mx-1"},[n("icon",{attrs:{name:"plus"},on:{click:t.addAnimation}})],1),t._v(" "),n("button",{staticClass:"btn btn-action float-right"},[n("icon",{attrs:{name:"play"},on:{click:t.play}})],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"film"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("选择动画")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentName,expression:"currentName"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.currentName=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:""}},[t._v("无")]),t._v(" "),t._l(t.animationNames,function(e,i){return n("option",{key:i,domProps:{value:e}},[t._v(t._s(e))])})],2)])],1),t._v(" "),t.currentAnimation?n("div",[n("hr"),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"type"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("动画名称")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.currentAnimation.name,expression:"currentAnimation.name",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"动画名称，仅限英文"},domProps:{value:t.currentAnimation.name},on:{input:[function(e){e.target.composing||t.$set(t.currentAnimation,"name",e.target.value.trim())},t.validateName],blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"clock"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("动画时长")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.duration,expression:"currentAnimation.duration",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入大于0的数字"},domProps:{value:t.currentAnimation.duration},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"duration",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"watch"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("动画延迟")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.delay,expression:"currentAnimation.delay",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"请输入不小于0的数字"},domProps:{value:t.currentAnimation.delay},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"delay",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"repeat"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("动画循环")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("input",{directives:[{name:"model",rawName:"v-model.number",value:t.currentAnimation.iteration,expression:"currentAnimation.iteration",modifiers:{number:!0}}],attrs:{type:"text",placeholder:"输入0表示无限循环"},domProps:{value:t.currentAnimation.iteration},on:{input:function(e){e.target.composing||t.$set(t.currentAnimation,"iteration",t._n(e.target.value))},blur:function(e){t.$forceUpdate()}}})])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"activity"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("缓动函数")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.timing,expression:"currentAnimation.timing"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"timing",e.target.multiple?n:n[0])}}},[n("option",[t._v("linear")]),t._v(" "),n("option",[t._v("ease")]),t._v(" "),n("option",[t._v("ease-in")]),t._v(" "),n("option",[t._v("ease-out")]),t._v(" "),n("option",[t._v("ease-in-out")])])])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"rotate-cw"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("动画方向")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.direction,expression:"currentAnimation.direction"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"direction",e.target.multiple?n:n[0])}}},[n("option",[t._v("normal")]),t._v(" "),n("option",[t._v("reverse")]),t._v(" "),n("option",[t._v("alternate")]),t._v(" "),n("option",[t._v("alternate-reverse")])])])],1),t._v(" "),n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"chevrons-down"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("fill-mode")]),t._v(" "),n("div",{staticClass:"panel-value"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.currentAnimation.fill,expression:"currentAnimation.fill"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.currentAnimation,"fill",e.target.multiple?n:n[0])}}},[n("option",[t._v("none")]),t._v(" "),n("option",[t._v("forwards")]),t._v(" "),n("option",[t._v("backwards")]),t._v(" "),n("option",[t._v("both")])])])],1),t._v(" "),n("hr"),t._v(" "),t._l(t.currentAnimation.keyframes,function(e,i){return n("div",{key:i},[n("div",{staticClass:"panel-row"},[n("icon",{attrs:{name:"stop-circle"}}),t._v(" "),n("div",{staticClass:"panel-label"},[t._v("stop - "+t._s(i))]),t._v(" "),n("div",{staticClass:"panel-value"},[t._v(t._s(e.stop)+"%")]),t._v(" "),n("div",{staticClass:"panel-slider-wrap"},[n("slider",{attrs:{step:1},model:{value:e.stop,callback:function(n){t.$set(e,"stop",n)},expression:"val.stop"}})],1)],1),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.css,expression:"val.css"}],attrs:{placeholder:"IMPORTANT: use rem, not px"},domProps:{value:e.css},on:{input:function(n){n.target.composing||t.$set(e,"css",n.target.value)}}}),t._v(" "),n("div",{staticStyle:{margin:"10px 0 0 20px"}},[i+1===t.currentAnimation.keyframes.length?n("button",{staticClass:"btn btn-primary",on:{click:t.addkeyframe}},[n("icon",{attrs:{name:"plus"}}),t._v(" 添加新的动画\n        ")],1):t._e()])])})],2):t._e()]):t._e()},staticRenderFns:[]},G={components:{page:n("VU/8")({props:["activeElement","tab"]},D,!1,null,null,null).exports,appearance:n("VU/8")(I,B,!1,null,null,null).exports,event:n("VU/8")({props:["activeElement","tab"]},H,!1,null,null,null).exports,animation:n("VU/8")(Y,q,!1,function(t){n("PVx9")},"data-v-3ab61968",null).exports},data:function(){return{activeTab:1}},computed:{activeElement:function(){return this.$store.state.activeElement}}},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("ul",{staticClass:"tab tab-block panel-tab"},[n("li",{staticClass:"tab-item",class:{active:1===t.activeTab},on:{click:function(e){t.activeTab=1}}},[n("a",[t._v("参数")])]),t._v(" "),n("li",{staticClass:"tab-item",class:{active:2===t.activeTab},on:{click:function(e){t.activeTab=2}}},[n("a",[t._v("交互")])]),t._v(" "),n("li",{staticClass:"tab-item",class:{active:3===t.activeTab},on:{click:function(e){t.activeTab=3}}},[n("a",[t._v("动画")])])]),t._v(" "),n("page",{attrs:{activeElement:t.activeElement,tab:t.activeTab}}),t._v(" "),n("appearance",{attrs:{activeElement:t.activeElement,tab:t.activeTab}}),t._v(" "),n("event",{attrs:{activeElement:t.activeElement,tab:t.activeTab}}),t._v(" "),n("animation",{attrs:{activeElement:t.activeElement,tab:t.activeTab}})],1)},staticRenderFns:[]},Z=n("VU/8")(G,J,!1,function(t){n("ntMS")},null,null).exports,K={name:"ref-lines",methods:{attachHoriz:function(t){return this.horizontal.some(function(e){return Math.abs(e-t)<=1})},attachVerti:function(t){return this.vertical.some(function(e){return Math.abs(e-t)<=1})}},computed:{moving:function(){return this.$store.state.moving},guides:function(){var t=this.$store.state,e=[],n=t.uuid;return t.widgets.forEach(function(t){t.hasGuide&&t.uuid===n||t.hasGuide&&"page"!==t.belong||e.push({width:t.width,height:t.height,top:t.top,left:t.left})}),e},horiz:function(){var t=[];return this.guides.forEach(function(e){var n=e.top,i=n+e.height;t.indexOf(n)<0&&0!==n&&t.push(n),t.indexOf(i)<0&&t.push(i)}),t},verti:function(){var t=[375];return this.guides.forEach(function(e){var n=e.left,i=n+e.width;t.indexOf(n)<0&&0!==n&&t.push(n),t.indexOf(i)<0&&i<750&&t.push(i)}),t},horizontal:function(){var t=this.$store.state.activeElement;if(t){var e=Math.round(t.height);return[t.top,t.top+e]}return[]},vertical:function(){var t=this.$store.state.activeElement;if(t){var e=Math.round(t.width/2);return[t.left,t.left+e,t.left+2*e]}return[]}}},Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.moving,expression:"moving"}],staticClass:"guides"},[t._l(t.horiz,function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.attachHoriz(e),expression:"attachHoriz(val)"}],key:e,staticClass:"horiz",style:{top:e+"px"}})}),t._v(" "),t._l(t.verti,function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.attachVerti(e),expression:"attachVerti(val)"}],key:e,staticClass:"verti",style:{left:e+"px"}})})],2)},staticRenderFns:[]},tt={computed:{elm:function(){var t=this.$store.state.activeElement,e=this.$store.state.type;return["braid-bg","braid-pic","page"].indexOf(e)>-1?"":"page"!==t.belong?"":t}},data:function(){return{type:""}},methods:{handlemousedown:function(t,e,n,i){t.stopPropagation(),this.type=e,this.$store.commit("initmove",{startX:t.pageX,startY:t.pageY,originX:this.elm[n],originY:this.elm[i]}),document.addEventListener("mousemove",this.handlemousemove,!0),document.addEventListener("mouseup",this.handlemouseup,!0)},handlemousemove:function(t){t.stopPropagation(),t.preventDefault(),this.$store.commit("resize",{x:t.pageX,y:t.pageY,type:this.type})},handlemouseup:function(){document.removeEventListener("mousemove",this.handlemousemove,!0),document.removeEventListener("mouseup",this.handlemouseup,!0),this.$store.commit("stopmove")}}},et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.elm,expression:"elm"}]},[n("div",{staticClass:"verti",style:{height:t.elm.height+"px",top:t.elm.top+"px",left:t.elm.left+"px"},on:{mousedown:function(e){t.handlemousedown(e,"left","left","width")}}},[n("div",{staticClass:"square"})]),t._v(" "),n("div",{staticClass:"verti",style:{height:t.elm.height+"px",top:t.elm.top+"px",left:t.elm.left+t.elm.width+"px"},on:{mousedown:function(e){t.handlemousedown(e,"right","width")}}},[n("div",{staticClass:"square"})]),t._v(" "),n("div",{staticClass:"horiz",style:{width:t.elm.width+"px",top:t.elm.top+"px",left:t.elm.left+"px"},on:{mousedown:function(e){t.handlemousedown(e,"up","top","height")}}},[n("div",{staticClass:"square"})]),t._v(" "),n("div",{staticClass:"horiz",style:{width:t.elm.width+"px",top:t.elm.top+t.elm.height+"px",left:t.elm.left+"px"},on:{mousedown:function(e){t.handlemousedown(e,"down","height")}}},[n("div",{staticClass:"square"})])])},staticRenderFns:[]},nt={name:"viewport",components:{ref:n("VU/8")(K,Q,!1,function(t){n("Gtj6")},"data-v-6144ffef",null).exports,control:n("VU/8")(tt,et,!1,function(t){n("tZQG")},"data-v-60585866",null).exports},mixins:[L],props:["zoom"],data:function(){return{}},mounted:function(){var t=this;document.getElementById("viewport").addEventListener("mousedown",this.handleSelection,!1),document.addEventListener("keydown",function(e){e.stopPropagation();var n=t.$store.state.activeElement;if(37!==e.keyCode||!n.left)return 38===e.keyCode&&n.top?(e.preventDefault(),void(n.top-=1)):void(39===e.keyCode&&n.left?n.left+=1:40===e.keyCode&&n.top&&(e.preventDefault(),n.top+=1));n.left-=1},!0)},methods:{handleSelection:function(t){var e=t.target,n=e.getAttribute("data-type");if(n){var i=e.getAttribute("data-uuid");this.$store.commit("select",{uuid:i||-1}),"page"===(e=this.$store.state.activeElement).belong&&"braid-bg"!==n&&this.initmovement(t)}else this.$store.commit("select",{uuid:-1})},replaceImage:function(t){var e=this;this.$store.state.activeElement.isUpload&&this.$store.$emit("upload",function(t){e.$store.commit("replaceImage",t)})},getChilds:function(t){return this.$store.state.widgets.filter(function(e){return e.belong===t})}},computed:{widgetStore:function(){return this.$store.state.widgets.filter(function(t){return"page"===t.belong})},height:function(){return this.$store.state.page.height},backgroundColor:function(){return this.$store.state.page.backgroundColor},id:function(){return this.$store.state.uuid},playState:function(){return this.$store.state.playState}}},it={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"holder",attrs:{id:"viewport"}},[n("div",{staticClass:"screen",style:{backgroundColor:t.backgroundColor,height:t.height+"px",transform:"scale("+t.zoom/100+")"},on:{dblclick:t.replaceImage}},[t._l(t.widgetStore,function(e){return n(e.type,{key:e.uuid,tag:"component",staticClass:"layer",class:{"g-active":t.id===e.uuid},attrs:{"data-title":e.type,val:e,h:t.height,w:750,"data-type":e.type,"data-uuid":e.uuid,playState:t.playState}},t._l(t.getChilds(e.name),function(i){return"braid-container"===e.type?n(i.type,{key:i.uuid,tag:"component",staticClass:"layer layer-child",class:{"g-active":t.id===i.uuid},attrs:{"data-title":i.type,val:i,h:t.height,w:750,"data-type":i.type,"data-uuid":i.uuid,playState:t.playState}}):t._e()}))}),t._v(" "),n("ref"),t._v(" "),n("control")],2)])},staticRenderFns:[]},at=n("VU/8")(nt,it,!1,function(t){n("kbxF")},"data-v-f6d008a2",null).exports,st={name:"vue-page-designer",store:P,components:{navbar:F,toolbar:X,panel:Z,viewport:at},props:{value:Object,widgets:Object,upload:Function,uploadOption:Object},beforeCreate:function(){!function(t,e){var n=new XMLHttpRequest;if(!document.querySelector("#"+e)){var i=document.createElement("div");i.setAttribute("hidden",""),i.setAttribute("id",e),document.body.insertBefore(i,document.body.childNodes[0]),"withCredentials"in n&&(n.open("GET",t,!0),n.onload=function(){i.innerHTML=n.responseText},n.send())}}("//unpkg.com/vue-page-designer/dist/icons.svg","svgspriteit")},created:function(){var t=this;o.a.use(T,{widgets:this.widgets}),this.value&&P.replaceState(this.value),P.$on("save",function(){t.$emit("save",P.state)})},mounted:function(){this.$store.commit("initActive")},methods:{dozoom:function(t){this.$store.commit("zoom",t)}},computed:{zoom:function(){return this.$store.state.zoom}}},ot={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"app"},[e("navbar"),this._v(" "),e("div",{staticClass:"body container"},[e("div",{staticClass:"columns col-gapless"},[e("toolbar",{staticClass:"toolbar column",attrs:{zoom:this.zoom}}),this._v(" "),e("div",{staticClass:"viewport column"},[e("viewport",{attrs:{zoom:this.zoom}}),this._v(" "),e("div",{staticClass:"zoom-wrap"},[e("slider",{attrs:{value:this.zoom,step:1,tuning:!1},on:{input:this.dozoom}}),this._v(" "),e("div",{staticClass:"zoom-value"},[this._v(this._s(this.zoom)+"%")])],1)],1),this._v(" "),e("panel",{staticClass:"control-panel column"})],1)]),this._v(" "),e("uploader",{attrs:{upload:this.upload,uploadOption:this.uploadOption}}),this._v(" "),e("toast")],1)},staticRenderFns:[]},rt=n("VU/8")(st,ot,!1,function(t){n("RsXJ")},null,null).exports,lt={props:{value:{type:[Number,String],default:0},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:Number,default:.1},tuning:{type:Boolean,default:!0}},data:function(){return{inputValue:this.value,active:!1,focused:!1,dragging:!1}},computed:{percent:function(){var t=(this.inputValue-this.min)/(this.max-this.min)*100;return t>100?100:t<0?0:t},fillStyle:function(){return{width:this.percent+"%"}},thumbStyle:function(){return{left:this.percent+"%"}},sliderClass:function(){return{zero:this.inputValue<=this.min,active:this.active}}},created:function(){this.handleDragMouseMove=this.handleDragMouseMove.bind(this),this.handleMouseEnd=this.handleMouseEnd.bind(this)},methods:{handleMouseDown:function(t){this.setValue(t),t.preventDefault(),document.addEventListener("mousemove",this.handleDragMouseMove),document.addEventListener("mouseup",this.handleMouseEnd),this.$el.focus(),this.onDragStart(t)},handleMouseUp:function(){this.active=!1},handleFocus:function(){this.focused=!0},handleBlur:function(){this.focused=!1},setValue:function(t){var e=this.$el,n=this.max,i=this.min,a=this.step,s=(t.clientX-e.firstElementChild.getBoundingClientRect().left)/e.firstElementChild.offsetWidth*(n-i);s=Math.round(s/a)*a+i,(s=parseFloat(s.toFixed(5)))>n?s=n:s<i&&(s=i),this.inputValue=s},onDragStart:function(t){this.dragging=!0,this.active=!0},onDragUpdate:function(t){var e=this;this.dragRunning||(this.dragRunning=!0,window.requestAnimationFrame(function(){e.dragRunning=!1,e.disabled||e.setValue(t)}))},onDragStop:function(t){this.dragging=!1,this.active=!1},handleDragMouseMove:function(t){this.onDragUpdate(t)},handleMouseEnd:function(t){document.removeEventListener("mousemove",this.handleDragMouseMove),document.removeEventListener("mouseup",this.handleMouseEnd),this.onDragStop(t)},increase:function(){this.inputValue>=this.max||(this.inputValue+=this.step)},decrease:function(){this.inputValue<=this.min||(this.inputValue-=this.step)}},watch:{value:function(t){this.inputValue=t},inputValue:function(t){this.$emit("input",t)}}},ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{"mu-lisder-wrapper":t.tuning}},[n("div",{staticClass:"mu-slider",class:t.sliderClass,on:{focus:t.handleFocus,blur:t.handleBlur,mousedown:t.handleMouseDown,mouseup:t.handleMouseUp}},[n("input",{attrs:{type:"hidden"},domProps:{value:t.inputValue}}),t._v(" "),n("div",{staticClass:"mu-slider-track"}),t._v(" "),n("div",{staticClass:"mu-slider-fill",style:t.fillStyle}),t._v(" "),n("div",{staticClass:"mu-slider-thumb",style:t.thumbStyle})]),t._v(" "),t.tuning?n("div",{staticClass:"mu-increment",on:{mousedown:function(e){e.stopPropagation(),t.increase(e)}}},[t._v("+")]):t._e(),t._v(" "),t.tuning?n("div",{staticClass:"mu-decrement",on:{mousedown:function(e){e.stopPropagation(),t.decrease(e)}}},[t._v("-")]):t._e()])},staticRenderFns:[]},ut=n("VU/8")(lt,ct,!1,function(t){n("UOBu")},null,null).exports,vt={data:function(){return{info:"",type:"warning",show:!1}},computed:{klass:function(){return{"toast-success":"success"===this.type,"toast-warning":"warning"===this.type,"toast-error":"error"===this.type}}},mounted:function(){var t=this;this.$store.$on("notify",function(e){t.notify(e.info,e.type)})},methods:{notify:function(t,e){var n=this;this.show||(this.info=t||"Success!",e&&(this.type=e),this.show=!0,setTimeout(function(){n.show=!1},2e3))}}},dt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{name:"drop"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.show,expression:"show"}],staticClass:"toast",class:this.klass},[this._v(this._s(this.info))])])},staticRenderFns:[]},pt=n("VU/8")(vt,dt,!1,function(t){n("rjlb")},null,null).exports,mt={props:{upload:Function,uploadOption:Object},data:function(){return{multiple:!1,uploader:null,cb:null}},computed:{top:function(){return this.$store.state.top}},mounted:function(){var t=this;this.uploader=document.getElementById("uploader"),this.$store.$on("upload",function(e,n){t.multiple=!!n,t.cb=e,setTimeout(function(){t.uploader.click()},0)})},methods:{handleUpload:function(){var t=this,e=this.uploader.files;if(e&&0!==e.length){e=Array.prototype.slice.call(this.uploader.files);(this.upload||this.defaultUpload)(e).then(function(e){console.log("status: ",e.status),new l.a(function(n){t.handleLoadQueue(n,e.files)()}).then(function(e){t.cb(e)})})}},defaultUpload:function(t){if(this.uploadOption.url){var e=new FormData;return t.forEach(function(t){return e.append("file[]",t)}),fetch(this.uploadOption.url,{method:"POST",body:e})}alert("请配置图片上传api地址")},handleLoadQueue:function(t,e){var n=this,i=0,a=e.length,s=[];return function o(){var r=window.URL.createObjectURL(e[i]);new l.a(function(t){n.getImageWidth(r,t)}).then(function(l){s.push({width:l.w,height:l.h,top:n.top,url:r,src:"images/"+e[i].name}),++i===a?t(s):o()})}},getImageWidth:function(t,e){var n=new Image;n.src=t,n.onload=function(){e({w:Math.round(n.width),h:Math.round(n.height)})}}}},ht={render:function(){var t=this.$createElement;return(this._self._c||t)("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:"image/png, image/jpeg, image/gif",multiple:!!this.multiple&&"multiple",id:"uploader"},on:{change:this.handleUpload}})},staticRenderFns:[]},ft=n("VU/8")(mt,ht,!1,null,null,null).exports,gt={render:function(){var t=this.$createElement,e=this._self._c||t;return this.show?e("div",{staticClass:"mask"},[e("div",{staticClass:"box"},[e("div",{staticClass:"top"},[e("span",[this._v(this._s(this.title))]),this._v(" "),e("icon",{staticClass:"close",attrs:{name:"x"},on:{click:this.close}})],1),this._v(" "),e("div",{staticClass:"body"},[this._t("default",[this._v(this._s(this.content))])],2),this._v(" "),e("div",{staticClass:"footer"},[e("button",{staticClass:"btn",on:{click:this.confirm}},[this._v("确定")]),this._v(" "),e("button",{staticClass:"btn",on:{click:this.close}},[this._v("取消")])])])]):this._e()},staticRenderFns:[]},_t=n("VU/8")({props:["title","id","content"],data:function(){return{show:!1}},methods:{close:function(){this.show=!1},confirm:function(){this.$emit("confirm",this.id)}}},gt,!1,function(t){n("IZjw")},"data-v-b975f210",null).exports,bt={name:"icon",props:{svg:String,title:String,name:String,options:Object},computed:{icon:function(){return this.svg||'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><use xlink:href="#'+this.name+'"></svg>'}},methods:{handleClick:function(){this.$emit("click")}}},yt={render:function(){var t=this.$createElement;return(this._self._c||t)("i",{staticClass:"icon svg-icon",attrs:{title:this.title},domProps:{innerHTML:this._s(this.icon)},on:{click:this.handleClick}})},staticRenderFns:[]},wt=n("VU/8")(bt,yt,!1,function(t){n("3nKj")},null,null).exports;n("h5AK");o.a.component("slider",ut),o.a.component("toast",pt),o.a.component("uploader",ft),o.a.component("popbox",_t),o.a.component("icon",wt);var Ct={data:function(){return{value:null,widgets:h,uploadOption:{url:"https://jsonplaceholder.typicode.com/photos"}}},created:function(){var t=window.localStorage.getItem("vpd-data");t&&(this.value=JSON.parse(t))},methods:{handleSave:function(t){console.log("saving:",t),window.localStorage.setItem("vpd-data",u()(t))},handleUpload:function(t){return console.log("uploading:",t),new l.a(function(e){e({files:t,status:200})})}},components:{vuePageDesigner:rt}},xt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("vue-page-designer",{attrs:{value:this.value,widgets:this.widgets,upload:this.handleUpload,uploadOption:this.uploadOption},on:{save:this.handleSave}})],1)},staticRenderFns:[]},Et=n("VU/8")(Ct,xt,!1,function(t){n("ULor")},null,null).exports;new o.a({el:"#app",render:t=>t(Et)})},RsXJ:function(t,e){},ULor:function(t,e){},UOBu:function(t,e){},ZxMX:function(t,e){},h5AK:function(t,e){},kbxF:function(t,e){},ntMS:function(t,e){},rjlb:function(t,e){},tZQG:function(t,e){}},["Pa1R"]);
//# sourceMappingURL=app.e1612f0e168c3528fdc8.js.map